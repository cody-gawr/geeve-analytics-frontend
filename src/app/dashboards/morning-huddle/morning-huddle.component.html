<input
  type="button"
  id="clinic_initiate"
  (click)="initiate_clinic()"
  [style.display]="'none'"
/>
<div class="sa_dashboard_inner_content morning-huddle">
  <div class="morning-huddle-subhead">
    <div
      class="morning-huddle-date topModel custom_date morning-huddle-datepicker"
    >
      <input
        id="mhdatepicker"
        class="filter_custom filter sa_datepicker Mhdatepic"
        readonly
        placeholder=""
        type="text"
        matInput
        ngxDaterangepickerMd
        [singleDatePicker]="true"
        [locale]="{ applyLabel: 'ok', displayFormat: 'DD MMMM, y' }"
        [(ngModel)]="selected"
        [autoApply]="true"
        [showDropdowns]="true"
        (ngModelChange)="setDateChange($event)"
      />

      <div class="toploader" *ngIf="showProcessingText && checkSuccessApi()">
        <img class="tableLoader" src="../../../assets/images/logo-icon.gif" />
      </div>
    </div>

  </div>

  <mat-tab-group
    [selectedIndex]="selectedTab"
    (selectedTabChange)="onTabChanged($event)"
  >
    <!-- Dentist Performance Tab -->
    <mat-tab label="Dentist Performance" *ngIf="user_type != '5'">
      <div class="morning-huddle-date">
        <strong
          >Previous Day:
          {{ productionDate | date : 'EEE MMM d' : 'timezone' }}</strong
        >
      </div>
      <!-- Top Cards -->
      <div>
        <div
          class="sa_dentist_graphs_area sa_profit_bar dentist-performance custom-row"
        >
          <div
            fxLayout="row wrap"
            fxLayoutGap="20px"
            fxLayoutGap.sm="0px"
            fxLayoutGap.xs="0px"
          >
            <div
              fxFlex="calc(33% - 10px)"
              fxFlex.md="calc(32% - 10px)"
              fxFlex.sm="100"
              fxFlex.xs="100"
              class="sa_huddle sa_flexbg mh-matcard custom_production_match"
              [ngClass]="
                production.goal > production.total
                  ? 'mh-matcard-down'
                  : 'mh-matcard-up'
              "
            >
              <mat-card class="dentistProduction sa_hccard">
                <mat-card-content class="sa_matcard_content">
                  <mat-card-title class="">
                    <div class="prodction_main_box prodction_main_box_huddle">
                      <div class="production_images">
                        <img
                          src="../assets/images/product-chart.png"
                          alt="product-chart"
                        />
                      </div>
                      <div
                        class="production_description production_description_huddle"
                      >
                        <h4>
                          <span *ngIf="user_type != '4'">Clinic</span>
                          Production
                        </h4>
                        <div
                          class="price-section patients-num"
                          *ngIf="production"
                        >
                          <span class="change_value">
                            <span
                              class="calculatingSp"
                              *ngIf="!dentistperformanceLoader"
                              >${{ production.total | number : '1.0-0' }}</span
                            >
                            <span
                              class="calculatingSp text"
                              *ngIf="dentistperformanceLoader"
                              >Calculating...</span
                            >
                          </span>
                        </div>
                      </div>
                    </div>
                  </mat-card-title>
                </mat-card-content>
              </mat-card>
            </div>

            <div
              fxFlex="calc(33% - 10px)"
              fxFlex.md="calc(33% - 10px)"
              fxFlex.sm="100"
              fxFlex.xs="100"
              class="sa_huddle sa_flexbg mh-matcard custom_rebook_recall_rate"
              [ngClass]="
                recallRate.goal > recallRate.rate
                  ? 'mh-matcard-down'
                  : 'mh-matcard-up'
              "
            >
              <mat-card class="treatmentPlan sa_hccard">
                <mat-card-content class="sa_matcard_content">
                  <mat-card-title class="text-center">
                    <div class="prodction_main_box prodction_main_box_huddle">
                      <div class="production_images">
                        <img
                          src="../assets/images/huddle_rebook.png"
                          alt="recall-rebook-rate"
                        />
                      </div>
                      <div
                        class="production_description production_description_huddle"
                      >
                        <h4>
                          <span *ngIf="user_type != '4'">Clinic</span> Recall
                          Prebook Rate
                        </h4>
                        <div class="recall-retail-rate" *ngIf="recallRate">
                          <span
                            class="change_value"
                            *ngIf="
                              !dentistrecallRateLoader &&
                              recallRate.rate != 'N/A'
                            "
                            >{{ recallRate.rate }}%</span
                          >
                          <span
                            class="change_value"
                            *ngIf="
                              !dentistrecallRateLoader &&
                              recallRate.rate == 'N/A'
                            "
                            >{{ recallRate.rate }}</span
                          >

                          <span
                            class="calculatingSp text"
                            *ngIf="dentistrecallRateLoader"
                            >Calculating...</span
                          >
                          <img
                            *ngIf="recallRate.rate >= recallRate.goal"
                            src="../assets/images/green-swirl.png"
                            alt="production-chart-1"
                          />
                          <img
                            *ngIf="recallRate.rate < recallRate.goal"
                            src="../assets/images/red-swirl.png"
                            alt="rebook-chart"
                          />
                        </div>
                      </div>
                    </div>
                  </mat-card-title>
                </mat-card-content>
              </mat-card>
            </div>

            <div
              fxFlex="calc(33% - 10px)"
              fxFlex.md="calc(33% - 10px)"
              fxFlex.sm="100"
              fxFlex.xs="100"
              class="sa_huddle sa_flexbg last mh-matcard"
              [ngClass]="
                treatmentRate.goal > treatmentRate.total
                  ? 'mh-matcard-down'
                  : 'mh-matcard-up'
              "
            >
              <mat-card class="noPatients sa_hccard">
                <mat-card-content class="sa_matcard_content">
                  <mat-card-title class="text-center">
                    <div class="prodction_main_box prodction_main_box_huddle">
                      <div class="production_images">
                        <img
                          src="../assets/images/huddle_appointment.png"
                          alt="reappointment-rate"
                        />
                      </div>
                      <div
                        class="production_description production_description_huddle"
                      >
                        <h4>
                          <span *ngIf="user_type != '4'">Clinic</span>
                          Reappointment Rate
                        </h4>
                        <div class="price-section" *ngIf="treatmentRate">
                          <span
                            class="change_value"
                            *ngIf="
                              treatmentRate.total != 'N/A' &&
                              !dentistTreatmentRateLoader
                            "
                            >{{ treatmentRate.total }}%</span
                          >
                          <span
                            class="change_value"
                            *ngIf="
                              treatmentRate.total == 'N/A' &&
                              !dentistTreatmentRateLoader
                            "
                            >{{ treatmentRate.total }}</span
                          >
                          <span
                            class="calculatingSp text"
                            *ngIf="dentistTreatmentRateLoader"
                            >Calculating...</span
                          >
                          <!-- <div class="ttl_value_left profit"
                            *ngIf="!treatmentRate.goal  && !dentistTreatmentRateLoader">Goal: 0%</div>
                          <div
                            [ngClass]="(treatmentRate.total >= treatmentRate.goal) ? 'profit ttl_value_left' : 'loss ttl_value_left'"
                            *ngIf="treatmentRate.goal  && !dentistTreatmentRateLoader && treatmentRate.goal >= 0">
                            Goal: {{ (treatmentRate.goal > 100)? 100 : treatmentRate.goal }}%
                          </div> -->
                          <img
                            *ngIf="treatmentRate.total >= treatmentRate.goal"
                            src="../assets/images/green-swirl.png"
                            alt="production-chart-1"
                          />
                          <img
                            *ngIf="treatmentRate.total < treatmentRate.goal"
                            src="../assets/images/red-swirl.png"
                            alt="rebook-chart"
                          />
                        </div>
                      </div>
                    </div>
                  </mat-card-title>
                </mat-card-content>
              </mat-card>
            </div>
          </div>
        </div>
      </div>
      <!-- Top Cards -->

      <!-- Dentist List -->

      <div class="DentistListSecRow mh-table" *ngIf="user_type != '4'">
        <div class="card-loading card d-none">
          <img class="tableLoader" src="../../assets/images/logo-icon.gif" />
          <!-- <div class="loader-text">Calculating...</div> -->
        </div>
        <div class="respopnsive-table-set">
          <table
            fxHide
            fxShow.gt-sm
            mat-table
            [dataSource]="dentistList"
            class="mat-elevation-z8"
          >
            <ng-container matColumnDef="position">
              <th mat-header-cell *matHeaderCellDef>No.</th>
              <td mat-cell *matCellDef="let element">{{ element.id }}</td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef>Clinician</th>
              <td mat-cell *matCellDef="let element">
                <span *ngIf="element.jeeve_name && element.jeeve_name != ''">
                  {{ element.jeeve_name }}
                </span>
                <span *ngIf="!element.jeeve_name || element.jeeve_name == ''">
                  {{ element.name }}
                </span>
              </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="production">
              <th mat-header-cell *matHeaderCellDef>Production Total</th>
              <td mat-cell *matCellDef="let element">
                ${{ element.production.total | number : '1.0-0' }}
              </td></ng-container
            >

            <!-- Symbol Column -->
            <ng-container matColumnDef="recall">
              <th mat-header-cell *matHeaderCellDef>Recall Prebook Rate</th>
              <td mat-cell *matCellDef="let element">
                <span
                  *ngIf="element.recall.rate == 'N/A'"
                  [ngClass]="
                    element.recall.rate >= element.recall.goal
                      ? 'mht-value-up'
                      : 'mht-value-down'
                  "
                  >{{ element.recall.rate }}
                </span>
                <span
                  *ngIf="element.recall.rate != 'N/A'"
                  [ngClass]="
                    element.recall.rate >= element.recall.goal
                      ? 'mht-value-up'
                      : 'mht-value-down'
                  "
                  >{{ element.recall.rate }} %
                </span>
                <span *ngIf="element.recall.goal >= 0" class="goal custom_goal"
                  >Goal:
                  {{
                    element.recall.goal > 100 ? 100 : element.recall.goal
                  }}%</span
                >
              </td>
            </ng-container>
            <ng-container matColumnDef="treatment">
              <th mat-header-cell *matHeaderCellDef>Reappointment Rate</th>
              <td mat-cell *matCellDef="let element">
                <span
                  *ngIf="element.treatment.total != 'N/A'"
                  [ngClass]="
                    element.treatment.total >= element.treatment.goal
                      ? 'mht-value-up'
                      : 'mht-value-down'
                  "
                  >{{ element.treatment.total }}%</span
                >
                <span
                  *ngIf="element.treatment.total == 'N/A'"
                  [ngClass]="
                    element.treatment.total >= element.treatment.goal
                      ? 'mht-value-up'
                      : 'mht-value-down'
                  "
                  >{{ element.treatment.total }}</span
                >
                <span
                  *ngIf="element.treatment.goal >= 0"
                  class="goal custom_goal"
                  >Goal:
                  {{
                    element.treatment.goal > 100 ? 100 : element.treatment.goal
                  }}%</span
                >
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </table>

          <!-- responsive tabel - Dentist Performance -->
          <div fxHide.gt-sm>
            <div *ngIf="dentistListTemp.length; else noData">
              <mat-card
                class="huddle-card"
                *ngFor="let element of dentistListTemp"
              >
                <div fxLayout="row" class="huddle-card-row">
                  <div fxFlex="30">Dentist:</div>
                  <div fxFlex="70">{{ element.name }}</div>
                </div>
                <div fxLayout="row" class="huddle-card-row">
                  <div fxFlex="30">Production:</div>
                  <div fxFlex="70">
                    <span
                      [ngClass]="
                        element.production.total >= element.production.goal
                          ? 'mht-value-up'
                          : 'mht-value-down'
                      "
                    >
                      ${{ element.production.total | number : '1.0-0' }}
                    </span>
                  </div>
                </div>
                <div fxLayout="row" class="huddle-card-row">
                  <div fxFlex="30">Recall Rate:</div>
                  <div fxFlex="70">
                    <span
                      *ngIf="element.recall.rate == 'N/A'"
                      [ngClass]="
                        element.recall.rate >= element.recall.goal
                          ? 'mht-value-up'
                          : 'mht-value-down'
                      "
                      >{{ element.recall.rate }}
                    </span>
                    <span
                      *ngIf="element.recall.rate != 'N/A'"
                      [ngClass]="
                        element.recall.rate >= element.recall.goal
                          ? 'mht-value-up'
                          : 'mht-value-down'
                      "
                      >{{ element.recall.rate }} %
                    </span>
                    <!-- <span class="goal custom_goal">Goal: {{( element.recall.goal > 100)? 100 :  element.recall.goal }}%</span>  -->
                  </div>
                </div>
                <div fxLayout="row" class="huddle-card-row">
                  <div fxFlex="30">Reappoint. Rate:</div>
                  <div fxFlex="70">
                    <span
                      *ngIf="element.treatment.total != 'N/A'"
                      [ngClass]="
                        element.treatment.total >= element.treatment.goal
                          ? 'mht-value-up'
                          : 'mht-value-down'
                      "
                      >{{ element.treatment.total }}%</span
                    >
                    <span
                      *ngIf="element.treatment.total == 'N/A'"
                      [ngClass]="
                        element.treatment.total >= element.treatment.goal
                          ? 'mht-value-up'
                          : 'mht-value-down'
                      "
                      >{{ element.treatment.total }}</span
                    >
                    <!-- <span class="goal custom_goal" >Goal: {{ (element.treatment.goal)? 100 : element.treatment.goal }}%</span> -->
                  </div>
                </div>
              </mat-card>
            </div>
            <ng-template #noData>
              <mat-card class="huddle-card">
                <h6>
                  No data found for
                  {{ productionDate | date : 'EEE MMM d' : 'timezone' }}
                </h6>
              </mat-card>
            </ng-template>
          </div>
        </div>

        <ul
          fxHide
          fxShow.gt-sm
          class="main_pagination"
          *ngIf="dentistList.data && dentistList.data.length > 10"
        >
          <li><a href="javascript:void(0)" class="first-page active">1</a></li>
          <li><a href="javascript:void(0)" class="second-page">2</a></li>
          <li><a href="javascript:void(0)" class="third-page">3</a></li>
        </ul>

        <div fxHide fxShow.gt-sm class="data-loading-main">
          <div
            class="no-data"
            [ngClass]="
              dentistList.data.length == 0 && dentistListLoading
                ? 'show'
                : 'hide'
            "
          >
            No data found for
            {{ productionDate | date : 'EEE MMM d' : 'timezone' }}
          </div>
          <div
            class="loader"
            [ngClass]="
              dentistList.data.length == 0 && !dentistListLoading
                ? 'show'
                : 'hide'
            "
          >
            <img
              class="tableLoader"
              src="../../../assets/images/logo-icon.gif"
            />
            <!-- <div class="loader-text">Calculating...</div> -->
          </div>
        </div>
      </div>
    </mat-tab>
    <!-- Dentist Performance Tab -->

    <!-- Patient Schedule Tab start -->
    <mat-tab label="Dentist Schedule" *ngIf="user_type != '5'">
      <div id="mh-dentist-schedule-print">
        <div class="morning-huddle-date">
          <div *ngIf="clinicDentists.length > 0 && user_type != '4'">
            <mat-form-field class="dentist-select">
              <!-- <mat-label>Select Dentist</mat-label> -->
              <mat-select
                (selectionChange)="refreshScheduleTab($event.value)"
                id="setPreviousDay2"
                [(ngModel)]="currentDentistSchedule"
              >
                <mat-option [value]="0">All Dentists</mat-option>
                <mat-option
                  [value]="dentist.provider_id"
                  *ngFor="let dentist of clinicDentists"
                >
                  {{ dentist.provider_name }}</mat-option
                >
              </mat-select>
            </mat-form-field>
            <!-- <button [useExistingCss]="true" printSectionId="mh-dentist-schedule-print" ngxPrint tabindex="2" class="mat-raised-button mat-dc float-right"><i class="fa fa-print"></i> Print</button> -->
            <button
              id="p-bttom"
              (click)="printDentistScheduleTab()"
              tabindex="2"
              class="mat-raised-button mat-dc float-right"
            >
              <i class="fa fa-print"></i> Print
            </button>
          </div>
          <strong>
            Current Day:
            {{ previousDays | date : 'EEE MMM d' : 'timezone' }}</strong
          >
        </div>
        <div class="sa_dentist_graphs_area sa_profit_bar patient-schedule">
          <div
            fxLayout="row wrap"
            fxLayoutGap="20px"
            fxLayoutGap.md="20px"
            fxLayoutGap.sm="0px"
            fxLayoutGap.xs="0px"
          >
            <div
              fxFlex="calc(20% - 10px)"
              fxFlex.md="calc(50% - 10px)"
              fxFlex.sm="100"
              fxFlex.xs="100"
              class="sa_huddle sa_flexbg mh-matcard mh-matcard-darkblue"
            >
              <mat-card class="dentistProduction sa_hccard">
                <mat-card-content class="sa_matcard_content">
                  <div class="prodction_main_box prodction_main_box_huddle">
                    <div class="production_images">
                      <img
                        src="../assets/images/huddle_appointment.png"
                        alt="dentist-appointments"
                      />
                    </div>
                    <div
                      class="production_description production_description_huddle"
                    >
                      <h4>Appointments</h4>
                      <div class="patients-num">
                        <span
                          class="change_value"
                          *ngIf="
                            !appointmentCardsLoaders &&
                            this.userPlan == 'lite' &&
                            (!currentDentistSchedule ||
                              currentDentistSchedule == 0)
                          "
                          >{{ clinicTotal }}</span
                        >
                        <span
                          class="change_value"
                          *ngIf="
                            appointmentCards.data.length >= 0 &&
                            !appointmentCardsLoaders
                          "
                          >{{ appointmentCards.data.length }}</span
                        >
                        <span
                          class="calculatingSp text"
                          *ngIf="appointmentCardsLoaders"
                          >Calculating...</span
                        >
                        <img
                          *ngIf="!appointmentCardsLoaders"
                          src="../assets/images/green-swirl.png"
                          alt="production-chart-1"
                        />
                      </div>
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
            <div
              fxFlex="calc(20% - 10px)"
              fxFlex.md="calc(50% - 10px)"
              fxFlex.sm="100"
              fxFlex.xs="100"
              class="sa_huddle sa_flexbg mr0-md mh-matcard mh-matcard-red"
            >
              <mat-card class="dentistProduction sa_hccard">
                <mat-card-content class="sa_matcard_content">
                  <div class="prodction_main_box prodction_main_box_huddle">
                    <div class="icon red">
                      <i class="fas fa-user-plus"></i>
                    </div>
                    <div
                      class="production_description production_description_huddle"
                    >
                      <h4>New Patients</h4>
                      <div class="patients-num">
                        <span
                          class="change_value"
                          *ngIf="!scheduleNewPatientsLoader"
                          >{{ scheduleNewPatient }}</span
                        >
                        <span
                          class="calculatingSp text"
                          *ngIf="scheduleNewPatientsLoader"
                          >Calculating...</span
                        >
                        <img
                          src="../assets/images/red-swirl.png"
                          alt="rebook-chart"
                          *ngIf="!scheduleNewPatientsLoader"
                        />
                      </div>
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
            <div
              fxFlex="calc(20% - 10px)"
              fxFlex.md="calc(50% - 10px)"
              fxFlex.sm="100"
              fxFlex.xs="100"
              class="sa_huddle sa_flexbg mh-matcard mh-matcard-green"
            >
              <mat-card class="dentistProduction sa_hccard">
                <mat-card-content class="sa_matcard_content">
                  <div class="prodction_main_box prodction_main_box_huddle">
                    <div class="production_images">
                      <img
                        src="../assets/images/huddle_hours.png"
                        alt="dentist-hours"
                      />
                    </div>
                    <div
                      class="production_description production_description_huddle"
                    >
                      <h4>Sched. Hours</h4>
                      <div class="patients-num">
                        <span
                          class="change_value"
                          *ngIf="!schedulehoursLoader"
                          >{{ schedulehours }}</span
                        >
                        <span
                          class="calculatingSp text"
                          *ngIf="schedulehoursLoader"
                          >Calculating...</span
                        >
                        <img
                          src="../assets/images/green-swirl.png"
                          alt="production-chart-1"
                          *ngIf="!schedulehoursLoader"
                        />
                      </div>
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
            <div
              fxFlex="calc(20% - 10px)"
              fxFlex.md="calc(50% - 10px)"
              fxFlex.sm="100"
              fxFlex.xs="100"
              class="sa_huddle sa_flexbg last mh-matcard mh-matcard-blue"
            >
              <mat-card class="dentistProduction sa_hccard">
                <mat-card-content class="sa_matcard_content">
                  <div class="prodction_main_box prodction_main_box_huddle">
                    <div class="production_images">
                      <img
                        src="../assets/images/huddle_tax.png"
                        alt="dentist-tax"
                      />
                    </div>
                    <div
                      class="production_description production_description_huddle"
                    >
                      <h4>Unsched. Tx</h4>
                      <div class="patients-num">
                        <span
                          class="change_value"
                          *ngIf="!unschedulehoursLoader"
                          >${{ unSchedulehours | number : '1.0-0' }}</span
                        >
                        <span
                          class="calculatingSp text"
                          *ngIf="unschedulehoursLoader"
                          >Calculating...</span
                        >
                        <img
                          src="../assets/images/green-swirl.png"
                          alt="production-chart-1"
                          *ngIf="!unschedulehoursLoader"
                        />
                      </div>
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
          </div>
        </div>
        <div class="DentistListSecRow mh-table patient_data-table_responsive">
          <div class="card-loading" *ngIf="appointmentCardsLoaders">
            <img class="tableLoader" src="../../assets/images/logo-icon.gif" />
          </div>
          <table
            fxHide
            fxShow.gt-sm
            mat-table
            matSort
            [dataSource]="appointmentCards"
            class="mat-elevation-z8 dentistsve"
            [ngClass]="
              appointmentCards.data.length == 0 ? 'noDataTableClass' : ''
            "
          >
            <!-- Name Column -->
            <ng-container matColumnDef="start">
              <th mat-header-cell *matHeaderCellDef>Time</th>
              <td
                id="{{ element.provider_id }}"
                mat-cell
                *matCellDef="let element"
              >
                <span class="newpatient"></span>
                {{ element.app_date + 'T' + element.start | date : 'h:mm a' }} -
                {{
                  endTime(element.app_date, element.start, element.duration)
                    | date : 'h:mm a'
                }}

                <span class="timeUTA" *ngIf="element.is_uta == '1'">UTA</span>
                <span class="timeFTA" *ngIf="element.is_fta == '1'">FTA </span>
              </td>
            </ng-container>

            <ng-container matColumnDef="dentist">
              <th mat-header-cell *matHeaderCellDef>Dentists</th>
              <td mat-cell *matCellDef="let element">
                {{ element.provider_name }}
              </td>
            </ng-container>

            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef>Patient</th>
              <td mat-cell *matCellDef="let element">
                {{ element.patient_name }}
              </td>
            </ng-container>

            <ng-container matColumnDef="statuscode">
              <th
                mat-header-cell
                *matHeaderCellDef
                [ngClass]="showStatusCode ? 'show' : 'hide'"
              >
                Status
              </th>
              <td
                mat-cell
                *matCellDef="let element"
                [ngClass]="showStatusCode ? 'show' : 'hide'"
              >
                <div>
                  <span
                    class="status-code-disp"
                    [ngClass]="
                      codes.background_colour == 'white' ? 'haveborder' : ''
                    "
                    *ngFor="let codes of element.status_codes; let i = index"
                    [style]="
                      'background-color: ' +
                      codes.background_colour +
                      ';color: ' +
                      codes.text_colour
                    "
                  >
                    {{ codes.status_code }}
                  </span>
                </div>
              </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="card">
              <th mat-header-cell *matHeaderCellDef>Notifications</th>
              <td mat-cell *matCellDef="let element">
                <div
                  class="appointment"
                  *ngIf="
                    element.recall_overdue == 'Yes' && OverdueRecalls == true
                  "
                >
                  <span class="warning"
                    ><span>
                      <img
                        src="../assets/images/warning-huddle.png"
                        alt="warning-huddle"
                    /></span>
                    No Recall for > 6 Months</span
                  >
                </div>
                <div class="appointment" *ngIf="element.noRecall == 'No'">
                  <span class="warning"
                    ><span class=""
                      ><img
                        src="../assets/images/warning-huddle.png"
                        alt="warning-huddle"
                    /></span>
                    No previous recalls</span
                  >
                </div>
                <div class="appointment" *ngIf="element.is_birthday == 'Yes'">
                  <span class="warning"
                    ><span class=""
                      ><img
                        src="../assets/images/warning-huddle.png"
                        alt="warning-huddle" /></span
                    >Birthday</span
                  >
                </div>
                <div
                  class="appointment"
                  *ngIf="element.is_new_patient == 'Yes'"
                >
                  <span class="warning"
                    ><span class=""
                      ><img
                        src="../assets/images/warning-huddle.png"
                        alt="warning-huddle"
                    /></span>
                    New Patient</span
                  >
                </div>

                <div
                  class="appointment"
                  *ngIf="element.outstanding_item_value > 0"
                >
                  <span class="warning"
                    ><img
                      src="../assets/images/warning-huddle.png"
                      alt="warning-huddle"
                    />
                    Outstanding Tx ${{
                      element.outstanding_item_value | number : '1.0-0'
                    }}</span
                  >
                </div>

                <div
                  class="appointment"
                  *ngIf="element.lab_needed == 'Yes' && LabNeeded == true"
                >
                  <span class="warning"
                    ><img
                      src="../assets/images/warning-huddle.png"
                      alt="warning-huddle"
                    />
                    Lab Needed</span
                  >
                </div>

                <div
                  class="appointment"
                  *ngIf="
                    element.overdue_022 == 'Yes' && showXrayOverdue == true
                  "
                >
                  <span class="warning" title="022 "
                    ><img
                      src="../assets/images/warning-huddle.png"
                      alt="warning-huddle"
                    />
                    Xray Overdue</span
                  >
                </div>
                <div
                  class="appointment"
                  *ngIf="element.overdue_037 == 'Yes' && OPGOverdue == true"
                >
                  <span class="warning" title="037 "
                    ><img
                      src="../assets/images/warning-huddle.png"
                      alt="warning-huddle"
                    />
                    OPG Overdue</span
                  >
                </div>
                <div class="appointment" *ngIf="element.no_shows == 'Yes'">
                  <span class="warning"
                    ><img
                      src="../assets/images/warning-huddle.png"
                      alt="warning-huddle"
                    />
                    History of No Shows</span
                  >
                </div>
              </td>
            </ng-container>
            <ng-container matColumnDef="rebooked">
              <th mat-header-cell *matHeaderCellDef>
                Rebooked
                <div class="info-icon-container mhRebook">
                  <img
                    [tooltip]="{
                      title: '',
                      info: 'If the patient rebooks on the day, a green tick is shown. If the patient doesn\'t rebook on the day but has a future appointment scheduled, you will see a grey tick'
                    }"
                    src="../assets/images/info-icon.png"
                    alt="info-icon"
                    class="info-icon"
                  />
                </div>
              </th>
              <td mat-cell *matCellDef="let element">
                <i
                  *ngIf="
                    element.is_rebooked == 'No' &&
                    element.has_future_appt == 'Yes'
                  "
                  class="fa fa-check mh-fa-check gray"
                ></i>
                <i
                  *ngIf="element.is_rebooked == 'Yes'"
                  class="fa fa-check mh-fa-check"
                ></i>
              </td>
            </ng-container>

            <ng-container matColumnDef="isDataAvailable">
              <mat-footer-cell
                *matFooterCellDef
                [attr.colspan]="displayedColumns12.length"
              >
                You have no appointments scheduled today
              </mat-footer-cell>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns12"></tr>
            <tr
              id=""
              mat-row
              *matRowDef="let row; columns: displayedColumns12"
            ></tr>

            <mat-footer-row
              *matFooterRowDef="['isDataAvailable']"
              [ngClass]="appointmentCards.data.length == 0 ? 'show' : 'hide'"
            ></mat-footer-row>
          </table>

          <!-- responsive table  - dentist schedule -->
          <div fxHide.gt-sm>
            <div *ngIf="appointmentCards.data.length; else noData">
              <mat-card
                class="huddle-card"
                *ngFor="let element of appointmentCards.data"
              >
                <div fxLayout="row" class="huddle-card-row">
                  <div fxFlex="30">Time:</div>
                  <div fxFlex="70">
                    {{
                      element.app_date + 'T' + element.start | date : 'h:mm a'
                    }}
                    -
                    {{
                      endTime(element.app_date, element.start, element.duration)
                        | date : 'h:mm a'
                    }}
                  </div>
                </div>
                <div fxLayout="row" class="huddle-card-row">
                  <div fxFlex="30">Dentist:</div>
                  <div fxFlex="70">{{ element.provider_name }}</div>
                </div>
                <div fxLayout="row" class="huddle-card-row">
                  <div fxFlex="30">Patient:</div>
                  <div fxFlex="70">{{ element.patient_name }}</div>
                </div>
                <div
                  fxLayout="row"
                  class="huddle-card-row"
                  [ngClass]="showStatusCode ? 'show' : 'hide'"
                >
                  <div fxFlex="30">Status:</div>
                  <div fxFlex="70">
                    <span
                      class="status-code-disp"
                      [ngClass]="
                        codes.background_colour == 'white' ? 'haveborder' : ''
                      "
                      *ngFor="let codes of element.status_codes; let i = index"
                      [style]="
                        'background-color: ' +
                        codes.background_colour +
                        ';color: ' +
                        codes.text_colour
                      "
                    >
                      {{ codes.status_code }}
                    </span>
                  </div>
                </div>
                <div fxLayout="row" class="huddle-card-row">
                  <div fxFlex="30">Notifications:</div>
                  <div fxFlex="70">
                    <div
                      class="appointment"
                      *ngIf="
                        element.recall_overdue == 'Yes' &&
                        OverdueRecalls == true
                      "
                    >
                      <span class="warning"
                        ><span>
                          <img
                            src="../assets/images/warning-huddle.png"
                            alt="warning-huddle"
                        /></span>
                        No Recall for > 6 Months</span
                      >
                    </div>
                    <div class="appointment" *ngIf="element.noRecall == 'No'">
                      <span class="warning"
                        ><span class=""
                          ><img
                            src="../assets/images/warning-huddle.png"
                            alt="warning-huddle"
                        /></span>
                        No previous recalls</span
                      >
                    </div>
                    <div
                      class="appointment"
                      *ngIf="element.is_birthday == 'Yes'"
                    >
                      <span class="warning"
                        ><span class=""
                          ><img
                            src="../assets/images/warning-huddle.png"
                            alt="warning-huddle" /></span
                        >Birthday</span
                      >
                    </div>
                    <div
                      class="appointment"
                      *ngIf="element.is_new_patient == 'Yes'"
                    >
                      <span class="warning"
                        ><span class=""
                          ><img
                            src="../assets/images/warning-huddle.png"
                            alt="warning-huddle"
                        /></span>
                        New Patient</span
                      >
                    </div>
                    <div
                      class="appointment"
                      *ngIf="element.outstanding_item_value > 0"
                    >
                      <span class="warning"
                        ><img
                          src="../assets/images/warning-huddle.png"
                          alt="warning-huddle"
                        />
                        Outstanding Tx ${{
                          element.outstanding_item_value | number : '1.0-0'
                        }}</span
                      >
                    </div>

                    <div
                      class="appointment"
                      *ngIf="
                        element.overdue_022 == 'Yes' && showXrayOverdue == true
                      "
                    >
                      <span class="warning" title="022 "
                        ><img
                          src="../assets/images/warning-huddle.png"
                          alt="warning-huddle"
                        />
                        Xray Overdue</span
                      >
                    </div>
                    <div
                      class="appointment"
                      *ngIf="element.lab_needed == 'Yes' && LabNeeded == true"
                    >
                      <span class="warning"
                        ><img
                          src="../assets/images/warning-huddle.png"
                          alt="warning-huddle"
                        />
                        Lab Needed</span
                      >
                    </div>
                    <div
                      class="appointment"
                      *ngIf="element.overdue_037 == 'Yes' && OPGOverdue == true"
                    >
                      <span class="warning" title="037 "
                        ><img
                          src="../assets/images/warning-huddle.png"
                          alt="warning-huddle"
                        />
                        OPG Overdue</span
                      >
                    </div>
                    <div class="appointment" *ngIf="element.no_shows == 'Yes'">
                      <span class="warning"
                        ><img
                          src="../assets/images/warning-huddle.png"
                          alt="warning-huddle"
                        />
                        History of No Shows</span
                      >
                    </div>
                  </div>
                </div>
                <div fxLayout="row" class="huddle-card-row">
                  <div fxFlex="30">
                    Rebooked
                    <div class="info-icon-container mhRebook">
                      <img
                        [tooltip]="{
                          title: '',
                          info: 'If the patient rebooks on the day, a green tick is shown. If the patient doesn\'t rebook on the day but has a future appointment scheduled, you will see a grey tick'
                        }"
                        src="../assets/images/info-icon.png"
                        alt="info-icon"
                        class="info-icon"
                      />
                    </div>
                  </div>
                  <div fxFlex="70">
                    <i
                      *ngIf="
                        element.is_rebooked == 'No' &&
                        element.has_future_appt == 'Yes'
                      "
                      class="fa fa-check mh-fa-check gray"
                    ></i>
                    <i
                      *ngIf="element.is_rebooked == 'Yes'"
                      class="fa fa-check mh-fa-check"
                    ></i>
                  </div>
                </div>
              </mat-card>
            </div>
            <ng-template #noData>
              <mat-card class="huddle-card">
                <h6>You have no appointments scheduled today</h6>
              </mat-card>
            </ng-template>
          </div>
        </div>
      </div>
    </mat-tab>
    <!-- Patient Schedule Tab end -->

    <!-- Reminders Tab start -->
    <mat-tab label="Front Desk Reminders" *ngIf="user_type != '4'">
      <div id="mh-front-desk-reminders-print">
        <div class="morning-huddle-date">
          <div *ngIf="clinicDentistsReminders.length > 0">
            <mat-form-field class="dentist-select">
              <!-- <mat-label>Select Dentist</mat-label> -->
              <mat-select
                (selectionChange)="refreshReminderTab($event.value)"
                id="setPreviousDay3"
                [(ngModel)]="currentDentistReminder"
              >
                <mat-option [value]="0">All Dentists</mat-option>
                <mat-option
                  [value]="dentist.provider_id"
                  *ngFor="let dentist of clinicDentistsReminders"
                >
                  {{ dentist.provider_name }}</mat-option
                >
              </mat-select>
            </mat-form-field>
            <!-- <button id="p-bttom" [useExistingCss]="true" printSectionId="mh-front-desk-reminders-print" ngxPrint tabindex="2" class="mat-raised-button mat-dc float-right"><i class="fa fa-print"></i> Print</button> -->
            <button
              id="p-bttom"
              (click)="printFrontDeskRemindersTab()"
              tabindex="2"
              class="mat-raised-button mat-dc float-right"
            >
              <i class="fa fa-print"></i> Print
            </button>
          </div>
          <strong
            >Current Day:
            {{
              remindersRecallsOverdueDate | date : 'EEE MMM d' : 'timezone'
            }}</strong
          >
        </div>
      </div>
      <div class="sa_dentist_graphs_area sa_profit_bar patient-schedule">
        <div
          fxLayout="row wrap"
          fxLayoutGap="20px"
          fxLayoutGap.md="20px"
          fxLayoutGap.sm="0px"
          fxLayoutGap.xs="0px"
        >
          <div
            *ngIf="currentDentistReminder || isExact"
            fxFlex="calc(20% - 10px)"
            fxFlex.md="calc(50% - 10px)"
            fxFlex.sm="100"
            fxFlex.xs="100"
          ></div>
          <div
            fxFlex="calc(20% - 10px)"
            fxFlex.md="calc(50% - 10px)"
            fxFlex.sm="100"
            fxFlex.xs="100"
            class="sa_huddle sa_flexbg mh-matcard mh-matcard-darkblue"
          >
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <div class="prodction_main_box prodction_main_box_huddle">
                  <!-- <div class="icon black">
                    <i class="fas fa-user-alt"></i>
                  </div> -->

                  <div class="production_images">
                    <img
                      src="../assets/images/huddle_appointment.png"
                      alt="reminders-appointments"
                    />
                  </div>
                  <div
                    class="production_description production_description_huddle"
                  >
                    <h4>Appointments</h4>
                    <div class="patients-num">
                      <span
                        class="change_value"
                        *ngIf="!remindersRecallsOverdueLoader"
                        >{{ remindersRecallsOverdue.length }}</span
                      >
                      <!-- <span class="change_value" *ngIf="!remindersRecallsOverdue && !remindersRecallsOverdueLoader">0</span> -->
                      <span
                        class="calculatingSp text"
                        *ngIf="remindersRecallsOverdueLoader"
                        >Calculating...</span
                      >
                      <!-- <span class="change_value">{{ todayPatients }}</span> -->
                    </div>
                  </div>
                </div>
                <!--  <div class="card-loading cards" *ngIf="remindersRecallsOverdueLoader">
                      <img class="tableLoader" src="../../assets/images/logo-icon.gif">
                      <div class="loader-text">Calculating...</div>
                    </div> -->
              </mat-card-content>
            </mat-card>
          </div>
          <div
            fxFlex="calc(20% - 10px)"
            fxFlex.md="calc(50% - 10px)"
            fxFlex.sm="100"
            fxFlex.xs="100"
            class="sa_huddle sa_flexbg mr0-md mh-matcard mh-matcard-red"
          >
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <div class="prodction_main_box prodction_main_box_huddle">
                  <div class="icon red">
                    <i class="fas fa-user-plus"></i>
                  </div>
                  <div
                    class="production_description production_description_huddle"
                  >
                    <h4>New Patients</h4>
                    <div class="patients-num">
                      <span
                        class="change_value"
                        *ngIf="!scheduleNewPatientsLoader"
                        >{{ scheduleNewPatient }}</span
                      >
                      <span
                        class="calculatingSp text"
                        *ngIf="scheduleNewPatientsLoader"
                        >Calculating...</span
                      >
                      <img
                        src="../assets/images/red-swirl.png"
                        alt="rebook-chart"
                        *ngIf="!scheduleNewPatientsLoader"
                      />
                    </div>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div
            *ngIf="currentDentistReminder || isExact"
            fxFlex="calc(20% - 10px)"
            fxFlex.md="calc(50% - 10px)"
            fxFlex.sm="100"
            fxFlex.xs="100"
          ></div>
          <div
            *ngIf="!currentDentistReminder && !isExact"
            fxFlex="calc(20% - 10px)"
            fxFlex.md="calc(50% - 10px)"
            fxFlex.sm="100"
            fxFlex.xs="100"
            class="sa_huddle sa_flexbg mr0-md mh-matcard mh-matcard-red"
          >
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <div class="prodction_main_box prodction_main_box_huddle">
                  <div class="icon orange">
                    <i class="fas fa-coins"></i>
                  </div>
                  <div
                    class="production_description production_description_huddle"
                  >
                    <h4>Due Balance</h4>
                    <div class="patients-num">
                      <span
                        class="change_value"
                        *ngIf="!todayUnscheduledBalLoader"
                        >${{ todayUnscheduledBal | number : '1.0-0' }}</span
                      >
                      <span
                        class="calculatingSp text"
                        *ngIf="todayUnscheduledBalLoader"
                        >Calculating...</span
                      >
                    </div>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div
            *ngIf="!currentDentistReminder && !isExact"
            fxFlex="calc(20% - 10px)"
            fxFlex.md="calc(50% - 10px)"
            fxFlex.sm="100"
            fxFlex.xs="100"
            class="sa_huddle sa_flexbg mh-matcard mh-matcard-green"
          >
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <div class="prodction_main_box prodction_main_box_huddle">
                  <div class="production_images">
                    <img
                      src="../assets/images/huddle_hours.png"
                      alt="reminders-hours"
                    />
                  </div>
                  <div
                    class="production_description production_description_huddle"
                  >
                    <h4>Unsched. Hours</h4>
                    <div class="patients-num">
                      <span
                        class="change_value"
                        *ngIf="!todayUnscheduledHoursLoader"
                        >{{ todayUnscheduledHours }}</span
                      >
                      <span
                        class="calculatingSp text"
                        *ngIf="todayUnscheduledHoursLoader"
                        >Calculating...</span
                      >
                    </div>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </div>

      <div class="DentistListSecRow mh-table patient_data-table_responsive">
        <div class="card-loading" *ngIf="remindersRecallsOverdueLoader">
          <img class="tableLoader" src="../../assets/images/logo-icon.gif" />
        </div>
        <table
          fxHide
          fxShow.gt-sm
          mat-table
          matSort
          [dataSource]="remindersRecallsOverdue"
          class="mat-elevation-z8 dentistsve"
          [ngClass]="remindersRecallsOverdue == 0 ? 'noDataTableClass' : ''"
        >
          <!-- Name Column -->
          <ng-container matColumnDef="start">
            <th mat-header-cell *matHeaderCellDef>Time</th>
            <td
              id="{{ element.provider_id }}"
              mat-cell
              *matCellDef="let element"
            >
              <span class="newpatient"></span
              >{{
                startDate(element.app_date) + 'T' + element.start
                  | date : 'h:mm a'
              }}
              -
              {{
                endTime(
                  startDate(element.app_date),
                  element.start,
                  element.duration
                ) | date : 'h:mm a'
              }}
              <span
                class="newpatient"
                *ngIf="element.is_new_patient != 'No'"
              ></span>
              <span class="timeUTA" *ngIf="element.is_uta == '1'">UTA</span>
              <span class="timeFTA" *ngIf="element.is_fta == '1'">FTA </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="dentist">
            <th mat-header-cell *matHeaderCellDef>Dentist</th>
            <td mat-cell *matCellDef="let element">
              {{ element.provider_name }}
            </td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Patient</th>
            <td mat-cell *matCellDef="let element">
              {{ element.patient_name }}
            </td>
          </ng-container>

          <ng-container matColumnDef="statuscode">
            <th
              mat-header-cell
              *matHeaderCellDef
              [ngClass]="showStatusCode ? 'show' : 'hide'"
            >
              Status
            </th>
            <td
              mat-cell
              *matCellDef="let element"
              [ngClass]="showStatusCode ? 'show' : 'hide'"
            >
              <div>
                <span
                  class="status-code-disp"
                  [ngClass]="
                    codes.background_colour == 'white' ? 'haveborder' : ''
                  "
                  *ngFor="let codes of element.status_codes; let i = index"
                  [style]="
                    'background-color: ' +
                    codes.background_colour +
                    ';color: ' +
                    codes.text_colour
                  "
                >
                  {{ codes.status_code }}
                </span>
              </div>
            </td>
          </ng-container>

          <!-- Weight Column -->
          <ng-container matColumnDef="card">
            <th mat-header-cell *matHeaderCellDef>Notifications</th>
            <td mat-cell *matCellDef="let element">
              <div
                class="appointment"
                *ngIf="
                  element.recall_overdue == 'Yes' && OverdueRecalls == true
                "
              >
                <span class="warning"
                  ><span>
                    <img
                      src="../assets/images/warning-huddle.png"
                      alt="warning-huddle"
                  /></span>
                  No Recall for > 6 Months</span
                >
              </div>
              <div class="appointment" *ngIf="element.noRecall == 'No'">
                <span class="warning"
                  ><span class=""
                    ><img
                      src="../assets/images/warning-huddle.png"
                      alt="warning-huddle"
                  /></span>
                  No previous recalls</span
                >
              </div>

              <div class="appointment" *ngIf="element.due_balance > 0">
                <span class="warning"
                  ><img
                    src="../assets/images/warning-huddle.png"
                    alt="warning-huddle"
                  />
                  Due Balance ${{
                    element.due_balance | number : '1.0-0'
                  }}</span
                >
              </div>
              <div
                class="appointment"
                *ngIf="element.overdue_022 == 'Yes' && showXrayOverdue == true"
              >
                <span class="warning" title="022 "
                  ><img
                    src="../assets/images/warning-huddle.png"
                    alt="warning-huddle"
                  />
                  Xray Overdue</span
                >
              </div>
              <div
                class="appointment"
                *ngIf="element.lab_needed == 'Yes' && LabNeeded == true"
              >
                <span class="warning"
                  ><img
                    src="../assets/images/warning-huddle.png"
                    alt="warning-huddle"
                  />
                  Lab Needed</span
                >
              </div>
              <div
                class="appointment"
                *ngIf="element.overdue_037 == 'Yes' && OPGOverdue == true"
              >
                <span class="warning" title="037 "
                  ><img
                    src="../assets/images/warning-huddle.png"
                    alt="warning-huddle"
                  />
                  OPG Overdue</span
                >
              </div>
              <div class="appointment" *ngIf="element.is_birthday == 'Yes'">
                <span class="warning"
                  ><span class=""
                    ><img
                      src="../assets/images/warning-huddle.png"
                      alt="warning-huddle" /></span
                  >Birthday</span
                >
              </div>
              <div class="appointment" *ngIf="element.is_new_patient == 'Yes'">
                <span class="warning"
                  ><span class=""
                    ><img
                      src="../assets/images/warning-huddle.png"
                      alt="warning-huddle"
                  /></span>
                  New Patient</span
                >
              </div>
            </td>
          </ng-container>

          <ng-container *ngIf="isSMSEnabled" matColumnDef="sendReview">
            <th mat-header-call *matHeaderCellDef>Send Review</th>
            <td mat-cell style="text-align: center" *matCellDef="let element">
              <i
                *ngIf="element.sms_status == 'queued'"
                class="fa fa-hourglass"
              ></i>
              <i
                *ngIf="element.sms_status == 'delivered'"
                class="fa fa-check mh-fa-check"
                [matTooltip]="element.review_msg"
              ></i>
              <i
                *ngIf="element.sms_status == 'sent'"
                class="fa fa-clock"
                matTooltip="SMS sent, awaiting confirmation of successful delivery"
                aria-hidden="true"
              ></i>
              <button
                *ngIf="element.sms_status == 'failed'"
                mat-stroked-button
                [disabled]="element.unsubscribed"
                [matTooltip]="element.unsubscribed?'This patient has unsubscribed':''"
                class="mat-dc"
                (click)="openSendReviewBtnDialog(element)"
              >
                Retry (Failed)
              </button>
              <button
                *ngIf="element.sms_status == 'undelivered'"
                mat-stroked-button
                [disabled]="element.unsubscribed"
                [matTooltip]="element.unsubscribed?'This patient has unsubscribed':''"
                class="mat-dc"
                (click)="openSendReviewBtnDialog(element)"
              >
                Retry (Undelivered)
              </button>
              <i
                *ngIf="element.sms_status == 'delivered_prev'"
                color="dc"
                [disabled]="element.unsubscribed"
                [matTooltip]="element.unsubscribed?'This patient has unsubscribed':'You have sent a review invite to this patient previously'"
                class="fa fa-redo"
                (click)="openSendReviewBtnDialog(element)"
              >
            </i>
              <button
                *ngIf="element.sms_status == undefined"
                mat-stroked-button
                [disabled]="element.unsubscribed"
                [matTooltip]="element.unsubscribed?'This patient has unsubscribed':''"
                class="mat-dc"
                (click)="openSendReviewBtnDialog(element)"
              >
                Send
              </button>
            </td>
          </ng-container>

          <ng-container matColumnDef="rebooked">
            <th mat-header-cell *matHeaderCellDef>
              Rebooked
              <div class="info-icon-container mhRebook">
                <img
                  [tooltip]="{
                    title: '',
                    info: 'If the patient rebooks on the day, a green tick is shown. If the patient doesn\'t rebook on the day but has a future appointment scheduled, you will see a grey tick'
                  }"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </th>
            <td mat-cell *matCellDef="let element">
              <i
                *ngIf="
                  element.is_rebooked == 'No' &&
                  element.has_future_appt == 'Yes'
                "
                class="fa fa-check mh-fa-check gray"
              ></i>
              <i
                *ngIf="element.is_rebooked == 'Yes'"
                class="fa fa-check mh-fa-check"
              ></i>
            </td>
          </ng-container>

          <ng-container matColumnDef="isDataAvailable">
            <mat-footer-cell
              *matFooterCellDef
              [attr.colspan]="displayedColumns11.length"
            >
              You have no Reminders today
            </mat-footer-cell>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns11"></tr>
          <tr
            id=""
            mat-row
            *matRowDef="let row; columns: displayedColumns11"
          ></tr>

          <mat-footer-row
            *matFooterRowDef="['isDataAvailable']"
            [ngClass]="remindersRecallsOverdue.length == 0 ? 'show' : 'hide'"
          ></mat-footer-row>
        </table>
        <!-- responsive table - FrontDesk reminder -->
        <div fxHide.gt-sm>
          <div *ngIf="remindersRecallsOverdue.length; else noData">
            <mat-card
              class="huddle-card"
              *ngFor="let element of remindersRecallsOverdue"
            >
              <div fxLayout="row" class="huddle-card-row">
                <div fxFlex="30">Time:</div>
                <div fxFlex="70">
                  {{
                    startDate(element.app_date) + 'T' + element.start
                      | date : 'h:mm a'
                  }}
                  -
                  {{
                    endTime(
                      startDate(element.app_date),
                      element.start,
                      element.duration
                    ) | date : 'h:mm a'
                  }}
                </div>
              </div>
              <div fxLayout="row" class="huddle-card-row">
                <div fxFlex="30">Dentist:</div>
                <div fxFlex="70">{{ element.provider_name }}</div>
              </div>
              <div fxLayout="row" class="huddle-card-row">
                <div fxFlex="30">Patient:</div>
                <div fxFlex="70">{{ element.patient_name }}</div>
              </div>
              <div
                fxLayout="row"
                class="huddle-card-row"
                [ngClass]="showStatusCode ? 'show' : 'hide'"
              >
                <div fxFlex="30">Status:</div>
                <div fxFlex="70">
                  <span
                    class="status-code-disp"
                    *ngFor="let codes of element.status_codes; let i = index"
                    [ngClass]="
                      codes.background_colour == 'white' ? 'haveborder' : ''
                    "
                    [style]="
                      'background-color: ' +
                      codes.background_colour +
                      ';color: ' +
                      codes.text_colour
                    "
                  >
                    {{ codes.status_code }}
                  </span>
                </div>
              </div>
              <div fxLayout="row" class="huddle-card-row">
                <div fxFlex="30">Notifications:</div>
                <div fxFlex="70">
                  <div
                    class="appointment"
                    *ngIf="
                      element.recall_overdue == 'Yes' && OverdueRecalls == true
                    "
                  >
                    <span class="warning"
                      ><span>
                        <img
                          src="../assets/images/warning-huddle.png"
                          alt="warning-huddle"
                      /></span>
                      No Recall for > 6 Months</span
                    >
                  </div>
                  <div class="appointment" *ngIf="element.noRecall == 'No'">
                    <span class="warning"
                      ><span class=""
                        ><img
                          src="../assets/images/warning-huddle.png"
                          alt="warning-huddle"
                      /></span>
                      No previous recalls</span
                    >
                  </div>

                  <div class="appointment" *ngIf="element.due_balance > 0">
                    <span class="warning"
                      ><img
                        src="../assets/images/warning-huddle.png"
                        alt="warning-huddle"
                      />
                      Due Balance ${{
                        element.due_balance | number : '1.0-0'
                      }}</span
                    >
                  </div>
                  <div class="appointment" *ngIf="element.code != ''">
                    <span class="warning" title="022 "
                      ><img
                        src="../assets/images/warning-huddle.png"
                        alt="warning-huddle"
                      />
                      {{ element.code }}</span
                    >
                  </div>
                  <div class="appointment" *ngIf="element.is_birthday == 'Yes'">
                    <span class="warning"
                      ><span class=""
                        ><img
                          src="../assets/images/warning-huddle.png"
                          alt="warning-huddle" /></span
                      >Birthday</span
                    >
                  </div>
                  <div
                    class="appointment"
                    *ngIf="element.is_new_patient == 'Yes'"
                  >
                    <span class="warning"
                      ><span class=""
                        ><img
                          src="../assets/images/warning-huddle.png"
                          alt="warning-huddle"
                      /></span>
                      New Patient</span
                    >
                  </div>
                  <div
                    class="appointment"
                    *ngIf="
                      element.overdue_022 == 'Yes' && showXrayOverdue == true
                    "
                  >
                    <span class="warning" title="022 "
                      ><img
                        src="../assets/images/warning-huddle.png"
                        alt="warning-huddle"
                      />
                      Xray Overdue</span
                    >
                  </div>
                  <div
                    class="appointment"
                    *ngIf="element.lab_needed == 'Yes' && LabNeeded == true"
                  >
                    <span class="warning"
                      ><img
                        src="../assets/images/warning-huddle.png"
                        alt="warning-huddle"
                      />
                      Lab Needed</span
                    >
                  </div>
                  <div
                    class="appointment"
                    *ngIf="element.overdue_037 == 'Yes' && OPGOverdue == true"
                  >
                    <span class="warning" title="037 "
                      ><img
                        src="../assets/images/warning-huddle.png"
                        alt="warning-huddle"
                      />
                      OPG Overdue</span
                    >
                  </div>
                </div>
              </div>
              <div fxLayout="row" class="huddle-card-row">
                <div fxFlex="30">
                  Rebooked
                  <div class="info-icon-container mhRebook">
                    <img
                      [tooltip]="{
                        title: '',
                        info: 'If the patient rebooks on the day, a green tick is shown. If the patient doesn\'t rebook on the day but has a future appointment scheduled, you will see a grey tick'
                      }"
                      src="../assets/images/info-icon.png"
                      alt="info-icon"
                      class="info-icon"
                    />
                  </div>
                </div>
                <div fxFlex="70">
                  <i
                    *ngIf="
                      element.is_rebooked == 'No' &&
                      element.has_future_appt == 'Yes'
                    "
                    class="fa fa-check mh-fa-check gray"
                  ></i>
                  <i
                    *ngIf="element.is_rebooked == 'Yes'"
                    class="fa fa-check mh-fa-check"
                  ></i>
                </div>
              </div>
            </mat-card>
          </div>
          <ng-template #noData>
            <mat-card class="huddle-card">
              <h6>You have no Reminders today</h6>
            </mat-card>
          </ng-template>
        </div>
      </div>
    </mat-tab>
    <!-- Reminders Tab end -->

    <!-- Followups Tab start -->
    <mat-tab
      label="Front Desk Followups"
      class="morngHuddle"
      *ngIf="user_type != '4'"
    >
      <div class="morning-huddle-date">
        <strong
          >Current Day:
          {{ remindersRecallsOverdueDate | date : 'EEE MMM d' : 'timezone' }}
        </strong>
      </div>
      <div class="sa_dentist_graphs_area sa_profit_bar patient-schedule">
        <div
          fxLayout="row wrap"
          fxLayoutGap="20px"
          fxLayoutGap.md="20px"
          fxLayoutGap.sm="0px"
          fxLayoutGap.xs="0px"
        ></div>
      </div>

      <mat-card
        class="table-card post_call_responsive_border followUps followUpsTab4 morngHuddle"
      >
        <mat-card-title>
          <div class="title-follow-up">
            <div class="TitleCon">
              Post op Calls
              <div class="info-icon-container">
                <img
                  [tooltip]="charTips['43']"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </div>
            <div *ngIf="followupPostOpCalls.length > 0" class="showComplete">
              <mat-checkbox
                name="status"
                [checked]="postopCallsPostOp"
                (change)="updateToCompleteOP($event)"
                >Show Complete</mat-checkbox
              >
            </div>
          </div>
          <div class="chipSets mornHuddle" *ngIf="postOpCallsScrps.length > 0">
            <mat-chip-list class="example-chip">
              <mat-chip
                [tooltip]="{
                  title: chips.script_title,
                  info: chips.script_text
                }"
                (mouseover)="historyPosChips($event, chips.colour)"
                class="example-box"
                *ngFor="let chips of postOpCallsScrps"
                [color]="chips.colour"
              >
                <span class="chipText">{{ chips.script_title }}</span>
              </mat-chip>
            </mat-chip-list>
          </div>
        </mat-card-title>
        <mat-card-content>
          <div
            class="DentistListSecRow mh-table patient_data-table_responsive mh-fd-followups"
          >
            <div class="card-loading" *ngIf="poLoadingLoading">
              <img
                class="tableLoader"
                src="../../assets/images/logo-icon.gif"
              />
              <!-- <div class="loader-text">Calculating...</div> -->
            </div>

            <table
              fxHide
              fxShow.gt-sm
              mat-table
              [dataSource]="followupPostOpCallsInComp"
              class="mat-elevation-z8 customWidth PostOp"
              [ngClass]="
                followupPostOpCallsInComp.length == 0 ? 'noDataTableClass' : ''
              "
            >
              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Patient Name</th>
                <td mat-cell *matCellDef="let element">
                  {{ element.patients.firstname }}
                  {{ element.patients.surname }}
                </td>
              </ng-container>

              <!-- Weight Column -->
              <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef>Phone Number</th>
                <td mat-cell *matCellDef="let element">
                  <div class="phone_align_center">
                    <img
                      src="../assets/images/follow-up-call.png"
                      alt="follow-up-call"
                    />
                    <span class="phone_no" *ngIf="element.patients.mobile">{{
                      formatPhoneNumber(element.patients.mobile)
                    }}</span>
                    <span
                      class="phone_no"
                      *ngIf="
                        !element.patients.mobile && element.patients.phone_work
                      "
                      >{{
                        formatPhoneNumber(element.patients.phone_work)
                      }}</span
                    >
                    <span
                      class="phone_no"
                      *ngIf="
                        !element.patients.mobile && !element.patients.phone_work
                      "
                      >{{
                        formatPhoneNumber(element.patients.phone_home)
                      }}</span
                    >
                  </div>
                </td>
              </ng-container>
              <ng-container matColumnDef="code">
                <th mat-header-cell *matHeaderCellDef>Treatment Date</th>
                <td mat-cell *matCellDef="let element">
                  {{
                    element.original_appt_date | date : 'MMM d, y' : 'timezone'
                  }}
                </td>
              </ng-container>
              <ng-container matColumnDef="dentist">
                <th mat-header-cell *matHeaderCellDef>Provider</th>
                <td mat-cell *matCellDef="let element">
                  {{ element.dentists && element.dentists.name }}
                </td>
              </ng-container>

              <!-- Symbol Column -->
              <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef>Treatment Done</th>
                <td mat-cell *matCellDef="let element">
                  {{ element.post_op_codes }}
                </td>
              </ng-container>

              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>Complete</th>
                <td mat-cell *matCellDef="let element">
                  <mat-slide-toggle
                    [checked]="element.is_complete == 0 ? false : true"
                    name="status"
                    (change)="
                      toggleUpdate(
                        $event,
                        element.patient_id,
                        element.original_appt_date,
                        element.followup_date,
                        element.patients.clinic_id,
                        'post-op-calls'
                      )
                    "
                  >
                  </mat-slide-toggle>
                </td>
              </ng-container>
              <ng-container matColumnDef="isDataAvailable1">
                <mat-footer-cell *matFooterCellDef [attr.colspan]="6">
                  <span
                    *ngIf="
                      isEnablePO &&
                      futureDateOP == '' &&
                      followupPostOpCalls.length <= 0
                    "
                    >You have no post op calls today</span
                  >
                  <span
                    *ngIf="
                      isEnablePO &&
                      futureDateOP == '' &&
                      followupPostOpCalls.length > 0
                    "
                    >All post op calls have been completed</span
                  >
                  <span *ngIf="isEnablePO && futureDateOP != ''"
                    >Post Op calls will be populated on
                    {{ futureDateOP | date : 'MMM d, y' : 'timezone' }}</span
                  >
                  <span *ngIf="!isEnablePO"
                    >Post Op calls are not enabled - this can be configured in
                    your Jeeve Settings menu</span
                  >
                </mat-footer-cell>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns5"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns5"></tr>
              <mat-footer-row
                *matFooterRowDef="['isDataAvailable1']"
                [ngClass]="
                  followupPostOpCallsInComp.length <= 0 ? 'show' : 'hide'
                "
              ></mat-footer-row>
            </table>
            <!-- responsive table - frontdesk followup (Post op calls)  -->
            <div fxHide.gt-sm>
              <div *ngIf="followupPostOpCallsInComp.length; else noPostOpCalls">
                <mat-card
                  class="huddle-card"
                  *ngFor="let element of followupPostOpCallsInComp"
                >
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Patient:</div>
                    <div fxFlex="70">
                      {{ element.patients.firstname }}
                      {{ element.patients.surname }}
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Phone:</div>
                    <div fxFlex="70">
                      <!-- <div class="phone_align_center"> -->
                      <!-- <img src="../assets/images/follow-up-call.png" alt="follow-up-call" /> -->
                      <span class="phone_no" *ngIf="element.patients.mobile">{{
                        formatPhoneNumber(element.patients.mobile)
                      }}</span>
                      <span
                        class="phone_no"
                        *ngIf="
                          !element.patients.mobile &&
                          element.patients.phone_work
                        "
                        >{{
                          formatPhoneNumber(element.patients.phone_work)
                        }}</span
                      >
                      <span
                        class="phone_no"
                        *ngIf="
                          !element.patients.mobile &&
                          !element.patients.phone_work
                        "
                        >{{
                          formatPhoneNumber(element.patients.phone_home)
                        }}</span
                      >
                      <!-- </div> -->
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Treatment:</div>
                    <div fxFlex="70">{{ element.post_op_codes }}</div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Provider:</div>
                    <div fxFlex="70">
                      {{ element.dentists && element.dentists.name }}
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Complete</div>
                    <div fxFlex="70">
                      <mat-slide-toggle
                        [checked]="element.is_complete == 0 ? false : true"
                        name="status"
                        (change)="
                          toggleUpdate(
                            $event,
                            element.patient_id,
                            element.original_appt_date,
                            element.followup_date,
                            element.patients.clinic_id,
                            'post-op-calls'
                          )
                        "
                      >
                      </mat-slide-toggle>
                    </div>
                  </div>
                </mat-card>
              </div>
              <ng-template #noPostOpCalls>
                <mat-card class="huddle-card">
                  <h6>You have no post op calls today</h6>
                </mat-card>
              </ng-template>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card
        class="table-card post_call_responsive_border followUpsTab4 morngHuddle"
      >
        <mat-card-title>
          <div class="title-follow-up">
            <div class="TitleCon">
              Overdue Recalls
              <div class="info-icon-container">
                <img
                  [tooltip]="charTips['44']"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </div>
            <div *ngIf="followupOverDueRecall.length > 0" class="showComplete">
              <mat-checkbox
                name="status"
                [checked]="showCompleteOverdue"
                (change)="updateToCompleteOR($event)"
                >Show Complete</mat-checkbox
              >
            </div>
          </div>
          <div
            class="chipSets mornHuddle"
            *ngIf="overdueRecallsScrps.length > 0"
          >
            <mat-chip-list
              class="example-chip"
              cdkDropList
              cdkDropListOrientation="horizontal"
              (cdkDropListDropped)="drop($event)"
            >
              <mat-chip
                [tooltip]="{
                  title: chips.script_title,
                  info: chips.script_text
                }"
                (mouseover)="historyPosChips($event, chips.colour)"
                class="example-box"
                *ngFor="let chips of overdueRecallsScrps"
                [color]="chips.colour"
              >
                <span class="chipText">{{ chips.script_title }}</span>
              </mat-chip>
            </mat-chip-list>
          </div>
        </mat-card-title>
        <mat-card-content>
          <div
            class="DentistListSecRow mh-table patient_data-table_responsive mh-fd-followups"
          >
            <div class="card-loading" *ngIf="recallLoadingLoading">
              <img
                class="tableLoader"
                src="../../assets/images/logo-icon.gif"
              />
              <!-- <div class="loader-text">Calculating...</div> -->
            </div>
            <table
              fxHide
              fxShow.gt-sm
              mat-table
              [dataSource]="followupOverDueRecallInCMP"
              class="mat-elevation-z8 customWidth overRecall"
              [ngClass]="
                followupOverDueRecallInCMP.length == 0 ? 'noDataTableClass' : ''
              "
            >
              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Patient Name</th>
                <td mat-cell *matCellDef="let element">
                  {{ element.patients.firstname }}
                  {{ element.patients.surname }}
                </td>
              </ng-container>

              <!-- Weight Column -->
              <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef>Phone Number</th>
                <td mat-cell *matCellDef="let element">
                  <div class="phone_align_center">
                    <img
                      src="../assets/images/follow-up-call.png"
                      alt="follow-up-call"
                    />
                    <span class="phone_no" *ngIf="element.patients.mobile">{{
                      formatPhoneNumber(element.patients.mobile)
                    }}</span>
                    <span
                      class="phone_no"
                      *ngIf="
                        !element.patients.mobile && element.patients.phone_work
                      "
                      >{{
                        formatPhoneNumber(element.patients.phone_work)
                      }}</span
                    >
                    <span
                      class="phone_no"
                      *ngIf="
                        !element.patients.mobile && !element.patients.phone_work
                      "
                      >{{
                        formatPhoneNumber(element.patients.phone_home)
                      }}</span
                    >
                  </div>
                </td>
              </ng-container>

              <!-- Symbol Column -->
              <ng-container matColumnDef="code">
                <th mat-header-cell *matHeaderCellDef>Last Recall Date</th>
                <td mat-cell *matCellDef="let element">
                  {{
                    element.original_appt_date | date : 'MMM d, y' : 'timezone'
                  }}
                </td>
              </ng-container>
              <ng-container matColumnDef="provider">
                <th mat-header-cell *matHeaderCellDef>Provider</th>
                <td mat-cell *matCellDef="let element">
                  {{ element.dentists && element.dentists.name }}
                </td>
              </ng-container>
              <ng-container matColumnDef="book">
                <th mat-header-cell *matHeaderCellDef>Notes</th>
                <td mat-cell *matCellDef="let element">
                  <span
                    (mouseover)="historyPos($event)"
                    class="info-icon-container tick historyTip"
                  >
                    <i
                      [tooltip]="{
                        title: !element.notes ? 'Add Notes' : 'Edit Notes'
                      }"
                      [ngClass]="!element.notes ? 'red' : 'green'"
                      class="fas fa-book notes"
                      (click)="
                        openNotes(
                          element.notes,
                          element.patient_id,
                          element.original_appt_date,
                          element.followup_date,
                          'recall-overdue'
                        )
                      "
                    ></i>
                  </span>
                  <div class="historyTip history">
                    <i
                      (mouseover)="historyPos($event)"
                      [tooltip]="formatHistory(element.history)"
                      class="fa fa-history"
                      *ngIf="element.history.length > 0"
                    ></i>
                  </div>
                </td>
              </ng-container>
              <ng-container matColumnDef="note">
                <th mat-header-cell *matHeaderCellDef>Status</th>
                <td mat-cell *matCellDef="let element">
                  <mat-form-field floatLabel="never" class="setPreviousDay">
                    <mat-select
                      placeholder="Select Status"
                      [(value)]="element.status"
                      id="setNote"
                      (selectionChange)="
                        updateStatus(
                          $event.value,
                          element.patient_id,
                          element.original_appt_date,
                          element.patients.clinic_id,
                          element.patients.firstname,
                          element.patients.surname,
                          element.original_appt_date,
                          element.followup_date,
                          'recall-overdue',
                          nextBussinessDay
                        )
                      "
                    >
                      <mat-option value="">Select Status</mat-option>
                      <mat-option value="Booked">Booked</mat-option>
                      <mat-option value="Already booked"
                        >Already booked</mat-option
                      >
                      <mat-option value="Didn't want to book"
                        >Didn't want to book</mat-option
                      >
                      <mat-option value="Ineligible">Ineligible</mat-option>
                      <mat-option value="Can't be reached"
                        >Can't be reached</mat-option
                      >
                      <mat-option value="Can't be reached - left voicemail"
                        >Can't be reached - left voicemail
                      </mat-option>
                      <mat-option value="Wants another follow-up"
                        >Wants another follow-up</mat-option
                      >
                    </mat-select>
                  </mat-form-field>
                </td>
              </ng-container>
              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>Complete</th>
                <td mat-cell *matCellDef="let element">
                  <mat-slide-toggle
                    [checked]="element.is_complete == 0 ? false : true"
                    name="status"
                    (change)="
                      toggleUpdate(
                        $event,
                        element.patient_id,
                        element.original_appt_date,
                        element.followup_date,
                        element.patients.clinic_id,
                        'recall-overdue',
                        element.status
                      )
                    "
                  >
                  </mat-slide-toggle>
                </td>
              </ng-container>
              <ng-container matColumnDef="isDataAvailable1">
                <mat-footer-cell
                  *matFooterCellDef
                  [attr.colspan]="displayedColumns7.length"
                >
                  <span
                    *ngIf="
                      isEnableOR &&
                      futureDateOR == '' &&
                      followupOverDueRecall.length <= 0
                    "
                    >You have no overdue recalls today</span
                  >
                  <span
                    *ngIf="
                      isEnableOR &&
                      futureDateOR == '' &&
                      followupOverDueRecall.length > 0
                    "
                    >All overdue recalls been completed</span
                  >
                  <span *ngIf="isEnableOR && futureDateOR != ''"
                    >Overdue Recalls will be populated on
                    {{ futureDateOR | date : 'MMM d, y' : 'timezone' }}</span
                  >
                  <span *ngIf="!isEnableOR"
                    >Overdue Recalls are not enabled - this can be configured in
                    your Jeeve Settings menu</span
                  >
                </mat-footer-cell>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns7"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns7"></tr>
              <mat-footer-row
                *matFooterRowDef="['isDataAvailable1']"
                [ngClass]="
                  followupOverDueRecallInCMP.length <= 0 ? 'show' : 'hide'
                "
              ></mat-footer-row>
            </table>
            <!-- responsive table - frontdesk followup (Post op calls)  -->
            <div fxHide.gt-sm>
              <div
                *ngIf="followupOverDueRecallInCMP.length; else noPostOpCalls"
              >
                <mat-card
                  class="huddle-card"
                  *ngFor="let element of followupOverDueRecallInCMP"
                >
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Patient:</div>
                    <div fxFlex="70">
                      {{ element.patients.firstname }}
                      {{ element.patients.surname }}
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Phone:</div>
                    <div fxFlex="70">
                      <!-- <div class="phone_align_center"> -->
                      <!-- <img src="../assets/images/follow-up-call.png" alt="follow-up-call" /> -->
                      <span class="phone_no" *ngIf="element.patients.mobile">{{
                        formatPhoneNumber(element.patients.mobile)
                      }}</span>
                      <span
                        class="phone_no"
                        *ngIf="
                          !element.patients.mobile &&
                          element.patients.phone_work
                        "
                        >{{
                          formatPhoneNumber(element.patients.phone_work)
                        }}</span
                      >
                      <span
                        class="phone_no"
                        *ngIf="
                          !element.patients.mobile &&
                          !element.patients.phone_work
                        "
                        >{{
                          formatPhoneNumber(element.patients.phone_home)
                        }}</span
                      >
                      <!-- </div> -->
                    </div>
                  </div>

                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Status</div>
                    <div fxFlex="70">
                      <mat-form-field floatLabel="never" class="setPreviousDay">
                        <mat-select
                          placeholder="Select Status"
                          [(value)]="element.status"
                          id="setNote1"
                          (selectionChange)="
                            updateStatus(
                              $event.value,
                              element.patient_id,
                              element.original_appt_date,
                              element.patients.clinic_id,
                              element.patients.firstname,
                              element.patients.surname,
                              element.original_appt_date,
                              element.followup_date,
                              'recall-overdue',
                              nextBussinessDay
                            )
                          "
                        >
                          <!--(selectionChange)="refreshPerformanceTab($event.value)" -->
                          <mat-option value="">Select Status</mat-option>
                          <mat-option value="Booked">Booked</mat-option>
                          <mat-option value="Already booked"
                            >Already booked</mat-option
                          >
                          <mat-option value="Didn't want to book"
                            >Didn't want to book</mat-option
                          >
                          <mat-option value="Ineligible">Ineligible</mat-option>
                          <mat-option value="Can't be reached"
                            >Can't be reached</mat-option
                          >
                          <mat-option value="Can't be reached - left voicemail"
                            >Can't be reached - left voicemail
                          </mat-option>
                          <mat-option value="Wants another follow-up"
                            >Wants another follow-up</mat-option
                          >
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Complete</div>
                    <div fxFlex="70">
                      <mat-slide-toggle
                        [checked]="element.is_complete == 0 ? false : true"
                        name="status"
                        (change)="
                          toggleUpdate(
                            $event,
                            element.patient_id,
                            element.original_appt_date,
                            element.followup_date,
                            element.patients.clinic_id,
                            'recall-overdue',
                            element.status
                          )
                        "
                      >
                      </mat-slide-toggle>
                    </div>
                  </div>
                </mat-card>
              </div>
              <ng-template #noPostOpCalls>
                <mat-card class="huddle-card">
                  <h6>You have no overdue recalls today</h6>
                </mat-card>
              </ng-template>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card
        class="table-card post_call_responsive_border followUpsTab4 morngHuddle"
      >
        <mat-card-title>
          <div class="title-follow-up">
            <div class="TitleCon">
              Tick Followups
              <div class="info-icon-container">
                <img
                  [tooltip]="charTips['45']"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </div>

            <div *ngIf="followupTickFollowups.length > 0" class="showComplete">
              <mat-checkbox
                name="status"
                [checked]="showCompleteTick"
                (change)="updateToCompleteTF($event)"
                >Show Complete
              </mat-checkbox>
            </div>
          </div>
          <div
            class="chipSets mornHuddle"
            *ngIf="tickFollowupsScrps.length > 0"
          >
            <mat-chip-list
              class="example-chip"
              cdkDropList
              cdkDropListOrientation="horizontal"
              (cdkDropListDropped)="drop($event)"
            >
              <mat-chip
                [tooltip]="{
                  title: chips.script_title,
                  info: chips.script_text
                }"
                (mouseover)="historyPosChips($event, chips.colour)"
                class="example-box"
                *ngFor="let chips of tickFollowupsScrps"
                [color]="chips.colour"
              >
                <span class="chipText">{{ chips.script_title }}</span>
              </mat-chip>
            </mat-chip-list>
          </div>
        </mat-card-title>
        <mat-card-content>
          <div
            class="DentistListSecRow mh-table patient_data-table_responsive mh-fd-followups"
          >
            <div class="card-loading" *ngIf="endTaksLoadingLoading">
              <img
                class="tableLoader"
                src="../../assets/images/logo-icon.gif"
              />
              <!-- <div class="loader-text">Calculating...</div> -->
            </div>
            <table
              fxHide
              fxShow.gt-sm
              mat-table
              [dataSource]="followupTickFollowupsInCMP"
              class="mat-elevation-z8 customWidth thick"
              [ngClass]="
                followupTickFollowupsInCMP.length == 0 ? 'noDataTableClass' : ''
              "
            >
              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Patient Name</th>
                <td mat-cell *matCellDef="let element">
                  {{ element.patients.firstname }}
                  {{ element.patients.surname }}
                </td>
              </ng-container>

              <!-- Weight Column -->
              <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef>Phone Number</th>
                <td mat-cell *matCellDef="let element">
                  <div class="phone_align_center">
                    <img
                      src="../assets/images/follow-up-call.png"
                      alt="follow-up-call"
                    />
                    <span class="phone_no" *ngIf="element.patients.mobile">{{
                      formatPhoneNumber(element.patients.mobile)
                    }}</span>
                    <span
                      class="phone_no"
                      *ngIf="
                        !element.patients.mobile && element.patients.phone_work
                      "
                      >{{
                        formatPhoneNumber(element.patients.phone_work)
                      }}</span
                    >
                    <span
                      class="phone_no"
                      *ngIf="
                        !element.patients.mobile && !element.patients.phone_work
                      "
                      >{{
                        formatPhoneNumber(element.patients.phone_home)
                      }}</span
                    >
                  </div>
                </td>
              </ng-container>

              <!-- Symbol Column -->
              <ng-container matColumnDef="code">
                <th mat-header-cell *matHeaderCellDef>Treatment Date</th>
                <td mat-cell *matCellDef="let element">
                  {{
                    element.original_appt_date | date : 'MMM d, y' : 'timezone'
                  }}
                </td>
              </ng-container>
              <ng-container matColumnDef="dentist">
                <th mat-header-cell *matHeaderCellDef>Provider</th>
                <td mat-cell *matCellDef="let element">
                  {{ element.dentists.name }}
                </td>
              </ng-container>

              <ng-container matColumnDef="note">
                <th mat-header-cell *matHeaderCellDef>Status</th>
                <td mat-cell *matCellDef="let element">
                  <mat-form-field floatLabel="never" class="setPreviousDay">
                    <mat-select
                      placeholder="Select Status"
                      [(value)]="element.status"
                      id="setNote2"
                      (selectionChange)="
                        updateStatus(
                          $event.value,
                          element.patient_id,
                          element.original_appt_date,
                          element.patients.clinic_id,
                          element.patients.firstname,
                          element.patients.surname,
                          element.original_appt_date,
                          element.followup_date,
                          'tick-follower',
                          nextBussinessDay
                        )
                      "
                    >
                      <!--(selectionChange)="refreshPerformanceTab($event.value)" -->
                      <mat-option value="">Select Status</mat-option>
                      <mat-option value="Booked">Booked</mat-option>
                      <mat-option value="Already booked"
                        >Already booked</mat-option
                      >
                      <mat-option value="Didn't want to book"
                        >Didn't want to book</mat-option
                      >
                      <mat-option value="Ineligible">Ineligible</mat-option>
                      <mat-option value="Can't be reached"
                        >Can't be reached</mat-option
                      >
                      <mat-option value="Can't be reached - left voicemail"
                        >Can't be reached - left voicemail
                      </mat-option>
                      <mat-option value="Wants another follow-up"
                        >Wants another follow-up</mat-option
                      >
                    </mat-select>
                  </mat-form-field>
                </td>
              </ng-container>
              <ng-container matColumnDef="book">
                <th mat-header-cell *matHeaderCellDef>Notes</th>
                <td mat-cell *matCellDef="let element">
                  <span
                    (mouseover)="historyPos($event)"
                    class="info-icon-container tick historyTip"
                  >
                    <i
                      [tooltip]="{
                        title: !element.notes ? 'Add Notes' : 'Edit Notes'
                      }"
                      [ngClass]="!element.notes ? 'red' : 'green'"
                      class="fas fa-book notes"
                      (click)="
                        openNotes(
                          element.notes,
                          element.patient_id,
                          element.original_appt_date,
                          element.followup_date,
                          'tick-follower'
                        )
                      "
                    ></i>
                  </span>
                  <span
                    (mouseover)="historyPos($event)"
                    *ngIf="element.code != ''"
                    class="info-icon-container tick historyTip"
                  >
                    <i
                      class="fas fa-notes-medical notes"
                      [tooltip]="tipDoneCode[element.patient_id]"
                    ></i>
                  </span>
                  <span
                    (mouseover)="historyPos($event)"
                    *ngIf="element.future_date_show"
                    class="info-icon-container tick historyTip"
                  >
                    <i
                      class="fas fa-calendar-check notes"
                      [tooltip]="tipFutureDate[element.patient_id]"
                    ></i>
                  </span>
                  <div class="historyTip history">
                    <i
                      (mouseover)="historyPos($event)"
                      [tooltip]="formatHistory(element.history)"
                      class="fa fa-history"
                      *ngIf="element.history.length > 0"
                    ></i>
                  </div>
                </td>
              </ng-container>
              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>Complete</th>
                <td mat-cell *matCellDef="let element">
                  <mat-slide-toggle
                    [checked]="element.is_complete == 0 ? false : true"
                    name="status"
                    (change)="
                      toggleUpdate(
                        $event,
                        element.patient_id,
                        element.original_appt_date,
                        element.followup_date,
                        element.patients.clinic_id,
                        'tick-follower',
                        element.status
                      )
                    "
                  >
                  </mat-slide-toggle>
                </td>
              </ng-container>
              <ng-container matColumnDef="isDataAvailable1">
                <mat-footer-cell
                  *matFooterCellDef
                  [attr.colspan]="displayedColumns8.length"
                >
                  <span
                    *ngIf="
                      isEnableTH &&
                      futureDateTH == '' &&
                      followupTickFollowups.length <= 0
                    "
                    >You have no tick followups today</span
                  >
                  <span
                    *ngIf="
                      isEnableTH &&
                      futureDateTH == '' &&
                      followupTickFollowups.length > 0
                    "
                    >All tick followups have been completed</span
                  >
                  <span *ngIf="isEnableTH && futureDateTH != ''"
                    >Tick Followup calls will be populated on
                    {{ futureDateTH | date : 'MMM d, y' : 'timezone' }}</span
                  >
                  <span *ngIf="!isEnableTH"
                    >Tick Followup are not enabled - this can be configured in
                    your Jeeve Settings menu</span
                  >
                </mat-footer-cell>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns8"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns8"></tr>
              <mat-footer-row
                *matFooterRowDef="['isDataAvailable1']"
                [ngClass]="
                  followupTickFollowupsInCMP.length <= 0 ? 'show' : 'hide'
                "
              ></mat-footer-row>
            </table>
            <!-- responsive table - frontdesk followup (Post op calls)  -->
            <div fxHide.gt-sm>
              <div
                *ngIf="followupTickFollowupsInCMP.length; else noPostOpCalls"
              >
                <mat-card
                  class="huddle-card"
                  *ngFor="let element of followupTickFollowupsInCMP"
                >
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Patient:</div>
                    <div fxFlex="70">
                      {{ element.patients.firstname }}
                      {{ element.patients.surname }}
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Phone:</div>
                    <div fxFlex="70">
                      <span class="phone_no" *ngIf="element.patients.mobile">{{
                        formatPhoneNumber(element.patients.mobile)
                      }}</span>
                      <span
                        class="phone_no"
                        *ngIf="
                          !element.patients.mobile &&
                          element.patients.phone_work
                        "
                        >{{
                          formatPhoneNumber(element.patients.phone_work)
                        }}</span
                      >
                      <span
                        class="phone_no"
                        *ngIf="
                          !element.patients.mobile &&
                          !element.patients.phone_work
                        "
                        >{{
                          formatPhoneNumber(element.patients.phone_home)
                        }}</span
                      >
                      <!-- </div> -->
                    </div>
                  </div>

                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Status</div>
                    <div fxFlex="70">
                      <mat-form-field floatLabel="never" class="setPreviousDay">
                        <mat-select
                          placeholder="Select Status"
                          [(value)]="element.status"
                          id="setNote3"
                          (selectionChange)="
                            updateStatus(
                              $event.value,
                              element.patient_id,
                              element.original_appt_date,
                              element.patients.clinic_id,
                              element.patients.firstname,
                              element.patients.surname,
                              element.original_appt_date,
                              element.followup_date,
                              'tick-follower',
                              nextBussinessDay
                            )
                          "
                        >
                          <mat-option value="">Select Status</mat-option>
                          <mat-option value="Booked">Booked</mat-option>
                          <mat-option value="Already booked"
                            >Already booked</mat-option
                          >
                          <mat-option value="Didn't want to book"
                            >Didn't want to book</mat-option
                          >
                          <mat-option value="Ineligible">Ineligible</mat-option>
                          <mat-option value="Can't be reached"
                            >Can't be reached</mat-option
                          >
                          <mat-option value="Can't be reached - left voicemail"
                            >Can't be reached - left voicemail
                          </mat-option>
                          <mat-option value="Wants another follow-up"
                            >Wants another follow-up</mat-option
                          >
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Provider</div>
                    <div fxFlex="70">
                      {{ element.dentists.name }}
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Notes</div>
                    <div fxFlex="70">
                      <i
                        [ngClass]="!element.notes ? 'red' : 'green'"
                        class="fas fa-book notes"
                        (click)="
                          openNotes(
                            element.notes,
                            element.patient_id,
                            element.original_appt_date,
                            element.followup_date,
                            'tick-follower'
                          )
                        "
                      ></i>
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Complete</div>
                    <div fxFlex="70">
                      <mat-slide-toggle
                        [checked]="element.is_complete == 0 ? false : true"
                        name="status"
                        (change)="
                          toggleUpdate(
                            $event,
                            element.patient_id,
                            element.original_appt_date,
                            element.followup_date,
                            element.patients.clinic_id,
                            'tick-follower',
                            element.status
                          )
                        "
                      >
                      </mat-slide-toggle>
                    </div>
                  </div>
                </mat-card>
              </div>
              <ng-template #noPostOpCalls>
                <mat-card class="huddle-card">
                  <h6>You have no tick followups today</h6>
                </mat-card>
              </ng-template>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- FTA Follow ups -->
      <mat-card
        class="table-card post_call_responsive_border followUpsTab4 morngHuddle"
      >
        <mat-card-title>
          <div class="title-follow-up">
            <div class="TitleCon">
              FTA Followups
              <div class="info-icon-container">
                <img
                  [tooltip]="charTips['52']"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </div>

            <div *ngIf="followupFtaFollowups.length > 0" class="showComplete">
              <mat-checkbox
                name="status"
                [checked]="showCompleteFta"
                (change)="updateToCompleteFT($event)"
                >Show Complete
              </mat-checkbox>
            </div>
          </div>
          <div class="chipSets mornHuddle" *ngIf="ftaFollowupsScrps.length > 0">
            <mat-chip-list
              class="example-chip"
              cdkDropList
              cdkDropListOrientation="horizontal"
              (cdkDropListDropped)="drop($event)"
            >
              <mat-chip
                [tooltip]="{
                  title: chips.script_title,
                  info: chips.script_text
                }"
                (mouseover)="historyPosChips($event, chips.colour, 'fta')"
                class="example-box"
                *ngFor="let chips of ftaFollowupsScrps"
                [color]="chips.colour"
              >
                <span class="chipText">{{ chips.script_title }}</span>
              </mat-chip>
            </mat-chip-list>
          </div>
        </mat-card-title>
        <mat-card-content>
          <div
            class="DentistListSecRow mh-table patient_data-table_responsive mh-fd-followups"
          >
            <div class="card-loading" *ngIf="ftaTaksLoadingLoading">
              <img
                class="tableLoader"
                src="../../assets/images/logo-icon.gif"
              />
            </div>
            <table
              fxHide
              fxShow.gt-sm
              mat-table
              [dataSource]="followupFtaFollowupsInCMP"
              class="mat-elevation-z8 customWidth thick"
              [ngClass]="
                followupFtaFollowupsInCMP.length == 0 ? 'noDataTableClass' : ''
              "
            >
              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Patient Name</th>
                <td mat-cell *matCellDef="let element">
                  {{ element.patients.firstname }}
                  {{ element.patients.surname }}
                </td>
              </ng-container>

              <!-- Weight Column -->
              <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef>Phone Number</th>
                <td mat-cell *matCellDef="let element">
                  <div class="phone_align_center">
                    <img
                      src="../assets/images/follow-up-call.png"
                      alt="follow-up-call"
                    />
                    <span class="phone_no" *ngIf="element.patients.mobile">{{
                      formatPhoneNumber(element.patients.mobile)
                    }}</span>
                    <span
                      class="phone_no"
                      *ngIf="
                        !element.patients.mobile && element.patients.phone_work
                      "
                      >{{
                        formatPhoneNumber(element.patients.phone_work)
                      }}</span
                    >
                    <span
                      class="phone_no"
                      *ngIf="
                        !element.patients.mobile && !element.patients.phone_work
                      "
                      >{{
                        formatPhoneNumber(element.patients.phone_home)
                      }}</span
                    >
                  </div>
                </td>
              </ng-container>

              <!-- Symbol Column -->
              <ng-container matColumnDef="code">
                <th mat-header-cell *matHeaderCellDef>Treatment Date</th>
                <td mat-cell *matCellDef="let element">
                  {{
                    element.original_appt_date | date : 'MMM d, y' : 'timezone'
                  }}
                </td>
              </ng-container>
              <ng-container matColumnDef="dentist">
                <th mat-header-cell *matHeaderCellDef>Provider</th>
                <td mat-cell *matCellDef="let element">
                  {{ element.dentists.name }}
                </td>
              </ng-container>

              <ng-container matColumnDef="note">
                <th mat-header-cell *matHeaderCellDef>Status</th>
                <td mat-cell *matCellDef="let element">
                  <mat-form-field floatLabel="never" class="setPreviousDay">
                    <mat-select
                      placeholder="Select Status"
                      [(value)]="element.status"
                      id="setNote2"
                      (selectionChange)="
                        updateStatus(
                          $event.value,
                          element.patient_id,
                          element.original_appt_date,
                          element.patients.clinic_id,
                          element.patients.firstname,
                          element.patients.surname,
                          element.original_appt_date,
                          element.followup_date,
                          'fta-follower',
                          nextBussinessDay
                        )
                      "
                    >
                      <mat-option value="">Select Status</mat-option>
                      <mat-option value="Booked">Booked</mat-option>
                      <mat-option value="Already booked"
                        >Already booked</mat-option
                      >
                      <mat-option value="Didn't want to book"
                        >Didn't want to book</mat-option
                      >
                      <mat-option value="Ineligible">Ineligible</mat-option>
                      <mat-option value="Can't be reached"
                        >Can't be reached</mat-option
                      >
                      <mat-option value="Can't be reached - left voicemail"
                        >Can't be reached - left voicemail
                      </mat-option>
                      <mat-option value="Wants another follow-up"
                        >Wants another follow-up</mat-option
                      >
                    </mat-select>
                  </mat-form-field>
                </td>
              </ng-container>
              <ng-container matColumnDef="book">
                <th mat-header-cell *matHeaderCellDef>Notes</th>
                <td mat-cell *matCellDef="let element">
                  <span
                    (mouseover)="historyPos($event)"
                    class="info-icon-container historyTip tick"
                  >
                    <i
                      [tooltip]="{
                        title: !element.notes ? 'Add Notes' : 'Edit Notes'
                      }"
                      [ngClass]="!element.notes ? 'red' : 'green'"
                      class="fas fa-book notes"
                      (click)="
                        openNotes(
                          element.notes,
                          element.patient_id,
                          element.original_appt_date,
                          element.followup_date,
                          'fta-follower'
                        )
                      "
                    ></i>
                  </span>
                  <span
                    (mouseover)="historyPos($event)"
                    *ngIf="element.code != ''"
                    class="info-icon-container historyTip tick"
                  >
                    <i
                      class="fas fa-notes-medical notes"
                      [tooltip]="tipFtaDoneCode[element.patient_id]"
                    ></i>
                  </span>
                  <span
                    (mouseover)="historyPos($event)"
                    *ngIf="element.future_date_show"
                    class="info-icon-container historyTip tick"
                  >
                    <i
                      class="fas fa-calendar-check notes"
                      [tooltip]="tipFtaFutureDate[element.patient_id]"
                    ></i>
                  </span>
                  <div class="historyTip history">
                    <i
                      (mouseover)="historyPos($event)"
                      [tooltip]="formatHistory(element.history)"
                      class="fa fa-history"
                      *ngIf="element.history.length > 0"
                    ></i>
                  </div>
                </td>
              </ng-container>
              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>Complete</th>
                <td mat-cell *matCellDef="let element">
                  <mat-slide-toggle
                    [checked]="element.is_complete == 0 ? false : true"
                    name="status"
                    (change)="
                      toggleUpdate(
                        $event,
                        element.patient_id,
                        element.original_appt_date,
                        element.followup_date,
                        element.patients.clinic_id,
                        'fta-follower',
                        element.status
                      )
                    "
                  >
                  </mat-slide-toggle>
                </td>
              </ng-container>
              <ng-container matColumnDef="isDataAvailable1">
                <mat-footer-cell
                  *matFooterCellDef
                  [attr.colspan]="displayedColumns8.length"
                >
                  <span
                    *ngIf="
                      isEnableFT &&
                      futureDateTF == '' &&
                      followupFtaFollowups.length <= 0
                    "
                    >You have no FTA followups today</span
                  >
                  <span
                    *ngIf="
                      isEnableFT &&
                      futureDateTF == '' &&
                      followupFtaFollowups.length > 0
                    "
                    >All FTA followups have been completed</span
                  >
                  <span *ngIf="isEnableFT && futureDateTF != ''"
                    >FTA Followup calls will be populated on
                    {{ futureDateTH | date : 'MMM d, y' : 'timezone' }}</span
                  >
                  <span *ngIf="!isEnableFT"
                    >FTA Followup are not enabled - this can be configured in
                    your Jeeve Settings menu</span
                  >
                </mat-footer-cell>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns8"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns8"></tr>
              <mat-footer-row
                *matFooterRowDef="['isDataAvailable1']"
                [ngClass]="
                  followupFtaFollowupsInCMP.length <= 0 ? 'show' : 'hide'
                "
              ></mat-footer-row>
            </table>
            <div fxHide.gt-sm>
              <div
                *ngIf="followupTickFollowupsInCMP.length; else noPostOpCalls"
              >
                <mat-card
                  class="huddle-card"
                  *ngFor="let element of followupFtaFollowupsInCMP"
                >
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Patient:</div>
                    <div fxFlex="70">
                      {{ element.patients.firstname }}
                      {{ element.patients.surname }}
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Phone:</div>
                    <div fxFlex="70">
                      <span class="phone_no" *ngIf="element.patients.mobile">{{
                        formatPhoneNumber(element.patients.mobile)
                      }}</span>
                      <span
                        class="phone_no"
                        *ngIf="
                          !element.patients.mobile &&
                          element.patients.phone_work
                        "
                        >{{
                          formatPhoneNumber(element.patients.phone_work)
                        }}</span
                      >
                      <span
                        class="phone_no"
                        *ngIf="
                          !element.patients.mobile &&
                          !element.patients.phone_work
                        "
                        >{{
                          formatPhoneNumber(element.patients.phone_home)
                        }}</span
                      >
                      <!-- </div> -->
                    </div>
                  </div>

                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Status</div>
                    <div fxFlex="70">
                      <mat-form-field floatLabel="never" class="setPreviousDay">
                        <mat-select
                          placeholder="Select Status"
                          [(value)]="element.status"
                          id="setNote3"
                          (selectionChange)="
                            updateStatus(
                              $event.value,
                              element.patient_id,
                              element.original_appt_date,
                              element.patients.clinic_id,
                              element.patients.firstname,
                              element.patients.surname,
                              element.original_appt_date,
                              element.followup_date,
                              'fta-follower',
                              nextBussinessDay
                            )
                          "
                        >
                          <mat-option value="">Select Status</mat-option>
                          <mat-option value="Booked">Booked</mat-option>
                          <mat-option value="Already booked"
                            >Already booked</mat-option
                          >
                          <mat-option value="Didn't want to book"
                            >Didn't want to book</mat-option
                          >
                          <mat-option value="Ineligible">Ineligible</mat-option>
                          <mat-option value="Can't be reached"
                            >Can't be reached</mat-option
                          >
                          <mat-option value="Can't be reached - left voicemail"
                            >Can't be reached - left voicemail
                          </mat-option>
                          <mat-option value="Wants another follow-up"
                            >Wants another follow-up</mat-option
                          >
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Provider</div>
                    <div fxFlex="70">
                      {{ element.dentists.name }}
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Notes</div>
                    <div fxFlex="70">
                      <i
                        [ngClass]="!element.notes ? 'red' : 'green'"
                        class="fas fa-book notes"
                        (click)="
                          openNotes(
                            element.notes,
                            element.patient_id,
                            element.original_appt_date,
                            element.followup_date,
                            'fta-follower'
                          )
                        "
                      ></i>
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Complete</div>
                    <div fxFlex="70">
                      <mat-slide-toggle
                        [checked]="element.is_complete == 0 ? false : true"
                        name="status"
                        (change)="
                          toggleUpdate(
                            $event,
                            element.patient_id,
                            element.original_appt_date,
                            element.followup_date,
                            element.patients.clinic_id,
                            'fta-follower',
                            element.status
                          )
                        "
                      >
                      </mat-slide-toggle>
                    </div>
                  </div>
                </mat-card>
              </div>
              <ng-template #noPostOpCalls>
                <mat-card class="huddle-card">
                  <h6>You have no FTA / UTA Followups today</h6>
                </mat-card>
              </ng-template>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- FTA Followups Tab end -->

      <!-- UTA Follow ups -->
      <mat-card
        *ngIf="!isExactOrCore"
        class="table-card post_call_responsive_border followUpsTab4 morngHuddle utafollowup"
      >
        <mat-card-title>
          <div class="title-follow-up">
            <div class="TitleCon">
              UTA Followups
              <div class="info-icon-container">
                <img
                  [tooltip]="charTips['60']"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </div>

            <div *ngIf="followupUtaFollowups.length > 0" class="showComplete">
              <mat-checkbox
                name="status"
                [checked]="showCompleteUta"
                (change)="updateToCompleteUT($event)"
                >Show Complete
              </mat-checkbox>
            </div>
          </div>
          <div class="chipSets mornHuddle" *ngIf="utaFollowupsScrps.length > 0">
            <mat-chip-list
              class="example-chip"
              cdkDropList
              cdkDropListOrientation="horizontal"
              (cdkDropListDropped)="drop($event)"
            >
              <mat-chip
                [tooltip]="{
                  title: chips.script_title,
                  info: chips.script_text
                }"
                (mouseover)="historyPosChips($event, chips.colour, 'fta')"
                class="example-box"
                *ngFor="let chips of utaFollowupsScrps"
                [color]="chips.colour"
              >
                <span class="chipText">{{ chips.script_title }}</span>
              </mat-chip>
            </mat-chip-list>
          </div>
        </mat-card-title>
        <mat-card-content>
          <div
            class="DentistListSecRow mh-table patient_data-table_responsive"
            style="overflow: auto"
          >
            <div class="card-loading" *ngIf="ftaTaksLoadingLoading">
              <img
                class="tableLoader"
                src="../../assets/images/logo-icon.gif"
              />
            </div>
            <table
              fxHide
              fxShow.gt-sm
              mat-table
              [dataSource]="followupUtaFollowupsInCMP"
              class="mat-elevation-z8 customWidth thick"
              [ngClass]="
                followupUtaFollowupsInCMP.length == 0 ? 'noDataTableClass' : ''
              "
            >
              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Patient Name</th>
                <td mat-cell *matCellDef="let element">
                  {{ element.patients.firstname }}
                  {{ element.patients.surname }}
                </td>
              </ng-container>

              <!-- Weight Column -->
              <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef>Phone Number</th>
                <td mat-cell *matCellDef="let element">
                  <div class="phone_align_center">
                    <img
                      src="../assets/images/follow-up-call.png"
                      alt="follow-up-call"
                    />
                    <span class="phone_no" *ngIf="element.patients.mobile">{{
                      formatPhoneNumber(element.patients.mobile)
                    }}</span>
                    <span
                      class="phone_no"
                      *ngIf="
                        !element.patients.mobile && element.patients.phone_work
                      "
                      >{{
                        formatPhoneNumber(element.patients.phone_work)
                      }}</span
                    >
                    <span
                      class="phone_no"
                      *ngIf="
                        !element.patients.mobile && !element.patients.phone_work
                      "
                      >{{
                        formatPhoneNumber(element.patients.phone_home)
                      }}</span
                    >
                  </div>
                </td>
              </ng-container>

              <!-- Symbol Column -->
              <ng-container matColumnDef="code">
                <th mat-header-cell *matHeaderCellDef>Treatment Date</th>
                <td mat-cell *matCellDef="let element">
                  {{
                    element.original_appt_date | date : 'MMM d, y' : 'timezone'
                  }}
                </td>
              </ng-container>
              <ng-container matColumnDef="dentist">
                <th mat-header-cell *matHeaderCellDef>Provider</th>
                <td mat-cell *matCellDef="let element">
                  {{ element.dentists.name }}
                </td>
              </ng-container>

              <ng-container matColumnDef="note">
                <th mat-header-cell *matHeaderCellDef>Status</th>
                <td mat-cell *matCellDef="let element">
                  <mat-form-field floatLabel="never" class="setPreviousDay">
                    <mat-select
                      placeholder="Select Status"
                      [(value)]="element.status"
                      id="setNote2"
                      (selectionChange)="
                        updateStatus(
                          $event.value,
                          element.patient_id,
                          element.original_appt_date,
                          element.patients.clinic_id,
                          element.patients.firstname,
                          element.patients.surname,
                          element.original_appt_date,
                          element.followup_date,
                          'uta-follower',
                          nextBussinessDay
                        )
                      "
                    >
                      <!--(selectionChange)="refreshPerformanceTab($event.value)" -->
                      <mat-option value="">Select Status</mat-option>
                      <mat-option value="Booked">Booked</mat-option>
                      <mat-option value="Already booked"
                        >Already booked</mat-option
                      >
                      <mat-option value="Didn't want to book"
                        >Didn't want to book</mat-option
                      >
                      <mat-option value="Ineligible">Ineligible</mat-option>
                      <mat-option value="Can't be reached"
                        >Can't be reached</mat-option
                      >
                      <mat-option value="Can't be reached - left voicemail"
                        >Can't be reached - left voicemail
                      </mat-option>
                      <mat-option value="Wants another follow-up"
                        >Wants another follow-up</mat-option
                      >
                    </mat-select>
                  </mat-form-field>
                </td>
              </ng-container>
              <ng-container matColumnDef="book">
                <th mat-header-cell *matHeaderCellDef>Notes</th>
                <td mat-cell *matCellDef="let element">
                  <span
                    (mouseover)="historyPos($event)"
                    class="info-icon-container historyTip tick"
                  >
                    <i
                      [tooltip]="{
                        title: !element.notes ? 'Add Notes' : 'Edit Notes'
                      }"
                      [ngClass]="!element.notes ? 'red' : 'green'"
                      class="fas fa-book notes"
                      (click)="
                        openNotes(
                          element.notes,
                          element.patient_id,
                          element.original_appt_date,
                          element.followup_date,
                          'uta-follower'
                        )
                      "
                    ></i>
                  </span>
                  <span
                    (mouseover)="historyPos($event)"
                    *ngIf="element.code != ''"
                    class="info-icon-container historyTip tick"
                  >
                    <i
                      class="fas fa-notes-medical notes"
                      [tooltip]="tipFtaDoneCode[element.patient_id]"
                    ></i>
                  </span>
                  <span
                    (mouseover)="historyPos($event)"
                    *ngIf="element.future_date_show"
                    class="info-icon-container historyTip tick"
                  >
                    <i
                      class="fas fa-calendar-check notes"
                      [tooltip]="tipFtaFutureDate[element.patient_id]"
                    ></i>
                  </span>
                  <div class="historyTip history">
                    <i
                      (mouseover)="historyPos($event)"
                      [tooltip]="formatHistory(element.history)"
                      class="fa fa-history"
                      *ngIf="element.history.length > 0"
                    ></i>
                  </div>
                </td>
              </ng-container>
              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>Complete</th>
                <td mat-cell *matCellDef="let element">
                  <mat-slide-toggle
                    [checked]="element.is_complete == 0 ? false : true"
                    name="status"
                    (change)="
                      toggleUpdate(
                        $event,
                        element.patient_id,
                        element.original_appt_date,
                        element.followup_date,
                        element.patients.clinic_id,
                        'uta-follower',
                        element.status
                      )
                    "
                  >
                  </mat-slide-toggle>
                </td>
              </ng-container>
              <ng-container matColumnDef="isDataAvailable1">
                <mat-footer-cell
                  *matFooterCellDef
                  [attr.colspan]="displayedColumns8.length"
                >
                  <span
                    *ngIf="
                      isEnableUT &&
                      futureDateTF == '' &&
                      followupUtaFollowups.length <= 0
                    "
                    >You have no UTA followups today</span
                  >
                  <span
                    *ngIf="
                      isEnableUT &&
                      futureDateTF == '' &&
                      followupUtaFollowups.length > 0
                    "
                    >All UTA followups have been completed</span
                  >
                  <span *ngIf="isEnableUT && futureDateTF != ''"
                    >UTA Followup calls will be populated on
                    {{ futureDateTH | date : 'MMM d, y' : 'timezone' }}</span
                  >
                  <span *ngIf="!isEnableUT"
                    >UTA Followup are not enabled - this can be configured in
                    your Jeeve Settings menu</span
                  >
                </mat-footer-cell>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns8"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns8"></tr>
              <mat-footer-row
                *matFooterRowDef="['isDataAvailable1']"
                [ngClass]="
                  followupUtaFollowupsInCMP.length <= 0 ? 'show' : 'hide'
                "
              ></mat-footer-row>
            </table>
            <!-- responsive table - frontdesk followup (Post op calls)  -->
            <div fxHide.gt-sm>
              <div
                *ngIf="followupTickFollowupsInCMP.length; else noPostOpCalls"
              >
                <mat-card
                  class="huddle-card"
                  *ngFor="let element of followupFtaFollowupsInCMP"
                >
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Patient:</div>
                    <div fxFlex="70">
                      {{ element.patients.firstname }}
                      {{ element.patients.surname }}
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Phone:</div>
                    <div fxFlex="70">
                      <!-- <div class="phone_align_center"> -->
                      <!-- <img src="../assets/images/follow-up-call.png" alt="follow-up-call" /> -->
                      <span class="phone_no" *ngIf="element.patients.mobile">{{
                        formatPhoneNumber(element.patients.mobile)
                      }}</span>
                      <span
                        class="phone_no"
                        *ngIf="
                          !element.patients.mobile &&
                          element.patients.phone_work
                        "
                        >{{
                          formatPhoneNumber(element.patients.phone_work)
                        }}</span
                      >
                      <span
                        class="phone_no"
                        *ngIf="
                          !element.patients.mobile &&
                          !element.patients.phone_work
                        "
                        >{{
                          formatPhoneNumber(element.patients.phone_home)
                        }}</span
                      >
                      <!-- </div> -->
                    </div>
                  </div>

                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Status</div>
                    <div fxFlex="70">
                      <mat-form-field floatLabel="never" class="setPreviousDay">
                        <mat-select
                          placeholder="Select Status"
                          [(value)]="element.status"
                          id="setNote3"
                          (selectionChange)="
                            updateStatus(
                              $event.value,
                              element.patient_id,
                              element.original_appt_date,
                              element.patients.clinic_id,
                              element.patients.firstname,
                              element.patients.surname,
                              element.original_appt_date,
                              element.followup_date,
                              'uta-follower',
                              nextBussinessDay
                            )
                          "
                        >
                          <mat-option value="">Select Status</mat-option>
                          <mat-option value="Booked">Booked</mat-option>
                          <mat-option value="Already booked"
                            >Already booked</mat-option
                          >
                          <mat-option value="Didn't want to book"
                            >Didn't want to book</mat-option
                          >
                          <mat-option value="Ineligible">Ineligible</mat-option>
                          <mat-option value="Can't be reached"
                            >Can't be reached</mat-option
                          >
                          <mat-option value="Can't be reached - left voicemail"
                            >Can't be reached - left voicemail
                          </mat-option>
                          <mat-option value="Wants another follow-up"
                            >Wants another follow-up</mat-option
                          >
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Provider</div>
                    <div fxFlex="70">
                      {{ element.dentists.name }}
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Notes</div>
                    <div fxFlex="70">
                      <i
                        [ngClass]="!element.notes ? 'red' : 'green'"
                        class="fas fa-book notes"
                        (click)="
                          openNotes(
                            element.notes,
                            element.patient_id,
                            element.original_appt_date,
                            element.followup_date,
                            'uta-follower'
                          )
                        "
                      ></i>
                    </div>
                  </div>
                  <div fxLayout="row" class="huddle-card-row">
                    <div fxFlex="30">Complete</div>
                    <div fxFlex="70">
                      <mat-slide-toggle
                        [checked]="element.is_complete == 0 ? false : true"
                        name="status"
                        (change)="
                          toggleUpdate(
                            $event,
                            element.patient_id,
                            element.original_appt_date,
                            element.followup_date,
                            element.patients.clinic_id,
                            'uta-follower',
                            element.status
                          )
                        "
                      >
                      </mat-slide-toggle>
                    </div>
                  </div>
                </mat-card>
              </div>
              <ng-template #noPostOpCalls>
                <mat-card class="huddle-card">
                  <h6>You have no UTA Followups today</h6>
                </mat-card>
              </ng-template>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-tab>
    <!-- UTA Followups Tab end -->

    <!-- End of Day Tasks if user type not dentist-->
    <mat-tab label="Daily Tasks" *ngIf="user_type != '4'">
      <div class="morning-huddle-date">
        <strong
          >Current Day:
          {{ endOfDaysTasksDate | date : 'EEE MMM d' : 'timezone' }}
        </strong>
      </div>
      <div
        class="loader_container mainloader"
        *ngIf="equipmentListLoading && endTaksLoading"
      >
        <img src="../../assets/images/logo-icon.gif" />
      </div>
      <div
        class="showComplete dailytsk"
        *ngIf="isEnabletasks && endOfDaysTasks.length > 0"
      >
        <mat-checkbox
          name="status"
          [checked]="showComplete"
          (change)="updateToComplete($event.checked)"
          >Show Complete
        </mat-checkbox>
      </div>
      <div *ngFor="let list of tasklistArray">
        <mat-card class="table-card post_call_responsive_border">
          <mat-card-title class="morngHuddle">
            <div class="title-follow-up">
              <span>Daily Tasks - {{ list.name }}</span>
              <!-- <span *ngIf="!isEnabletasks">Daily Task feature is currently disabled. Please check your Jeeve settings to enable this feature.</span> -->
            </div>
            <!--    <div class="info-icon-container"><img [tooltip]="tooltipData" src="../assets/images/info-icon.png" alt="info-icon" class="info-icon"/></div> -->
          </mat-card-title>
          <mat-card-content>
            <div
              class="DentistListSecRow mh-table patient_data-table_responsive DentistListSecRow-task"
            >
              <div class="card-loading" *ngIf="endTaksLoading">
                <img
                  class="tableLoader"
                  src="../../assets/images/logo-icon.gif"
                />
                <!-- <div class="loader-text">Calculating...</div> -->
              </div>
              <table
                #sort1="matSort"
                mat-table
                matSort
                matSortActive="name"
                matSortDirection="asc"
                [dataSource]="endOfDaysTasksInComp"
                class="mat-elevation-z8 daily-task"
                [ngClass]="
                  endOfDaysTasksInComp.length == 0 ? 'noDataTableClass' : ''
                "
              >
                <ng-container matColumnDef="name">
                  <th mat-header-cell mat-sort-header *matHeaderCellDef>
                    Task Name
                  </th>
                  <ng-container *matCellDef="let element">
                    <td
                      mat-cell
                      *ngIf="
                        list.list_id == element.list_id &&
                        element.type == 'task'
                      "
                    >
                      {{ element.name }}
                    </td>
                  </ng-container>
                </ng-container>

                <ng-container matColumnDef="completed_by">
                  <th
                    mat-header-cell
                    *matHeaderCellDef
                    [ngClass]="showComplete ? '' : 'hide'"
                  >
                    Completed By
                  </th>
                  <ng-container *matCellDef="let element">
                    <td
                      mat-cell
                      *ngIf="
                        list.list_id == element.list_id &&
                        element.type == 'task'
                      "
                      [ngClass]="showComplete ? '' : 'hide'"
                    >
                      <span *ngIf="element.display_name">{{
                        element.display_name
                      }}</span>
                      <span *ngIf="!element.display_name">{{
                        element.email
                      }}</span>
                    </td>
                  </ng-container>
                </ng-container>

                <ng-container matColumnDef="status">
                  <th mat-header-cell *matHeaderCellDef>Complete</th>
                  <ng-container *matCellDef="let element">
                    <td
                      mat-cell
                      *ngIf="
                        list.list_id == element.list_id &&
                        element.type == 'task'
                      "
                      [hidden]="element.type == 'list'"
                    >
                      <mat-slide-toggle
                        [checked]="element.is_complete == 1 ? true : false"
                        name="status"
                        (change)="
                          updateTask(
                            $event,
                            element.task_id,
                            element.history_id,
                            element.clinic_id
                          )
                        "
                      ></mat-slide-toggle>
                    </td>
                  </ng-container>
                </ng-container>

                <ng-container matColumnDef="isDataAvailable9">
                  <mat-footer-cell
                    *matFooterCellDef
                    [attr.colspan]="displayedColumns9.length"
                  >
                    <span
                      *ngIf="
                        showComplete && endOfDaysTasksInComp.data.length <= 0
                      "
                      >No data in complete task list.</span
                    >
                    <span
                      *ngIf="
                        !showComplete && isEnabletasks && futureDateDT == ''
                      "
                      >No task list has been generated for today</span
                    >
                    <span *ngIf="isEnabletasks && futureDateDT != ''"
                      >Daily Tasks will be populated on
                      {{ futureDateDT | date : 'MMM d, y' : 'timezone' }}</span
                    >
                    <span *ngIf="!isEnabletasks"
                      >Daily Tasks are not enabled - this can be configured in
                      your Jeeve Settings menu</span
                    >
                  </mat-footer-cell>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns9"></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: displayedColumns9"
                ></tr>
                <mat-footer-row
                  *matFooterRowDef="['isDataAvailable9']"
                  [ngClass]="
                    endOfDaysTasksInComp.data.length <= 0 ? 'show' : 'hide'
                  "
                ></mat-footer-row>
              </table>
              <div fxHide.gt-sm>
                <div *ngIf="endOfDaysTasksInComp.length; else noPostOpCalls">
                  <mat-card
                    class="huddle-card"
                    *ngFor="let element of endOfDaysTasksInComp"
                  >
                    <div fxLayout="row" class="huddle-card-row">
                      <div fxFlex="30">Task Name:</div>
                      <div fxFlex="70">{{ element.name }}</div>
                    </div>

                    <div fxLayout="row" class="huddle-card-row">
                      <div fxFlex="30">Complete</div>
                      <div fxFlex="70">
                        <mat-slide-toggle
                          [checked]="element.is_complete == 1 ? true : false"
                          name="status"
                          (change)="
                            updateTask(
                              $event,
                              element.task_id,
                              element.history_id,
                              element.clinic_id
                            )
                          "
                        >
                        </mat-slide-toggle>
                      </div>
                    </div>
                  </mat-card>
                </div>
                <ng-template #noPostOpCalls>
                  <mat-card class="huddle-card">
                    <h6>You have no daily tasks today</h6>
                  </mat-card>
                </ng-template>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>

      <div>
        <mat-card class="table-card post_call_responsive_border">
          <mat-card-title>
            <div class="title-follow-up">
              <span>Equipment List</span>
              <!-- <span *ngIf="!isEnableEquipList">Equipment List is disabled. Please check your Jeeve settings to enable this</span> -->
            </div>
            <!--     <div class="info-icon-container"><img [tooltip]="tooltipData" src="../assets/images/info-icon.png" alt="info-icon" class="info-icon"/></div> -->
            <!--     <div class="showComplete showAMPm">
             <span class="AM">AM</span> <mat-slide-toggle [checked]="showELPm" name="showelpm" (change)="showAMPm($event)"></mat-slide-toggle> <span  class="PM">PM </span>
            </div> -->
          </mat-card-title>
          <mat-card-content>
            <div
              class="DentistListSecRow mh-table patient_data-table_responsive DentistListSecRow-equipment-list"
            >
              <div class="card-loading" *ngIf="equipmentListLoading">
                <img
                  class="tableLoader"
                  src="../../assets/images/logo-icon.gif"
                />
                <!-- <div class="loader-text">Calculating...</div> -->
              </div>
              <table
                #sort2="matSort"
                mat-table
                matSort
                [dataSource]="lquipmentList"
                class="mat-elevation-z8"
                [ngClass]="
                  lquipmentList.data.length == 0 ? 'noDataTableClass' : ''
                "
              >
                <!-- Name Column -->
                <ng-container matColumnDef="equip_item">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Item
                  </th>
                  <td mat-cell *matCellDef="let element; let i = index">
                    {{ element.equip_item }}
                  </td>
                </ng-container>
                <ng-container matColumnDef="quantity">
                  <th mat-header-cell *matHeaderCellDef>Quantity</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.list.quantity }}
                  </td>
                </ng-container>
                <ng-container matColumnDef="am">
                  <th mat-header-cell *matHeaderCellDef>
                    AM &nbsp; <i class="fa fa-check" *ngIf="!amButton"></i>
                  </th>
                  <!-- [ngClass]="!showELPm? 'show' : 'hide'" -->
                  <td mat-cell *matCellDef="let element; let i = index">
                    <!--  [ngClass]="showELPm? 'show' : 'hide'" -->
                    <input
                      type="number"
                      class="small-number"
                      [ngClass]="!amButton ? 'complt' : 'notCmplt'"
                      [(ngModel)]="lquipmentListAm[element.id].am"
                      (blur)="listUpdate('am', element.id)"
                    />
                    <div
                      *ngIf="i + 1 == lquipmentList.data.length"
                      class="ListButton"
                    >
                      <button
                        (click)="saveQuantity('am')"
                        mat-raised-button
                        color="dc"
                        class="btn-block btn-lg text-center"
                      >
                        <span *ngIf="amButton">Save</span>
                        <span *ngIf="!amButton">Update</span>
                      </button>
                    </div>
                  </td>
                </ng-container>
                <ng-container matColumnDef="pm">
                  <th mat-header-cell *matHeaderCellDef>
                    PM &nbsp; <i class="fa fa-check" *ngIf="!pmButton"></i>
                  </th>
                  <td mat-cell *matCellDef="let element; let i = index">
                    <input
                      type="number"
                      class="small-number"
                      [ngClass]="!pmButton ? 'complt' : 'notCmplt'"
                      [(ngModel)]="lquipmentListAm[element.id].pm"
                      (blur)="listUpdate('pm', element.id)"
                    />
                    <div
                      *ngIf="i + 1 == lquipmentList.data.length"
                      class="ListButton"
                    >
                      <button
                        (click)="saveQuantity('pm')"
                        mat-raised-button
                        color="dc"
                        class="btn-block btn-lg text-center mr-0"
                      >
                        <span *ngIf="pmButton">Save</span>
                        <span *ngIf="!pmButton">Update</span>
                      </button>
                    </div>
                  </td>
                </ng-container>
                <ng-container matColumnDef="isDataAvailable9">
                  <mat-footer-cell
                    *matFooterCellDef
                    [attr.colspan]="displayedColumns10.length"
                  >
                    <span *ngIf="isEnableEquipList && futureDateEL == ''"
                      >No equipment list has been generated for today</span
                    >
                    <span *ngIf="isEnableEquipList && futureDateEL != ''"
                      >Equipment List will be populated on
                      {{ futureDateEL | date : 'MMM d, y' : 'timezone' }}</span
                    >
                    <span *ngIf="!isEnableEquipList"
                      >Equipment List is not enabled - this can be configured in
                      your Jeeve Settings menu</span
                    >
                  </mat-footer-cell>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns10"></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: displayedColumns10"
                ></tr>
                <mat-footer-row
                  *matFooterRowDef="['isDataAvailable9']"
                  [ngClass]="lquipmentList.data.length <= 0 ? 'show' : 'hide'"
                ></mat-footer-row>
              </table>
              <table class="ListButtons" *ngIf="lquipmentList.data.length > 0">
                <tr>
                  <td width="24%"></td>
                  <td width="15%"></td>
                  <td width="25%"></td>
                  <td width="25%"></td>
                </tr>
              </table>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-tab>
    <!-- End of Day Tasks end if user type not dentist -->

    <!-- End of Day Tasks if user type dentist-->
    <mat-tab label="Daily Tasks" *ngIf="user_type == '4'">
      <div class="morning-huddle-date">
        <strong
          >Current Day:
          {{ endOfDaysTasksDate | date : 'EEE MMM d' : 'timezone' }}
        </strong>
      </div>
      <div
        class="showComplete dailytsk"
        *ngIf="isEnabletasks && endOfDaysTasks.length > 0"
      >
        <mat-checkbox
          name="status"
          [checked]="showComplete"
          (change)="updateToComplete($event)"
          >Show Complete
        </mat-checkbox>
      </div>
      <div *ngIf="tasklistArray.length > 0">
        <div *ngFor="let list of tasklistArray">
          <mat-card class="table-card post_call_responsive_border">
            <mat-card-title class="morngHuddle">
              <div class="title-follow-up">
                <span>Daily Tasks - {{ list.name }}</span>
                <!-- <span *ngIf="!isEnabletasks">Daily Task feature is currently disabled. Please check your Jeeve settings to enable this feature.</span> -->
              </div>
              <!--    <div class="info-icon-container"><img [tooltip]="tooltipData" src="../assets/images/info-icon.png" alt="info-icon" class="info-icon"/></div> -->
            </mat-card-title>
            <mat-card-content>
              <div
                class="DentistListSecRow mh-table patient_data-table_responsive DentistListSecRow-task"
              >
                <div class="card-loading" *ngIf="endTaksLoading">
                  <img
                    class="tableLoader"
                    src="../../assets/images/logo-icon.gif"
                  />
                  <!-- <div class="loader-text">Calculating...</div> -->
                </div>
                <table
                  #sort1="matSort"
                  mat-table
                  matSort
                  [dataSource]="endOfDaysTasksInComp"
                  class="mat-elevation-z8 daily-task"
                  [ngClass]="
                    endOfDaysTasksInComp.length == 0 ? 'noDataTableClass' : ''
                  "
                  matSortDisableClear
                >
                  <!-- Name Column -->
                  <ng-container matColumnDef="name">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                      Task Name
                    </th>
                    <ng-container *matCellDef="let element">
                      <td
                        mat-cell
                        *ngIf="
                          list.list_id == element.list_id &&
                          element.type == 'task'
                        "
                      >
                        {{ element.name }}
                      </td>
                    </ng-container>
                  </ng-container>

                  <ng-container matColumnDef="completed_by">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      [ngClass]="showComplete ? '' : 'hide'"
                    >
                      Completed By
                    </th>
                    <ng-container *matCellDef="let element">
                      <td
                        mat-cell
                        *ngIf="
                          list.list_id == element.list_id &&
                          element.type == 'task'
                        "
                        [ngClass]="showComplete ? '' : 'hide'"
                      >
                        <span *ngIf="element.display_name">{{
                          element.display_name
                        }}</span>
                        <span *ngIf="!element.display_name">{{
                          element.email
                        }}</span>
                      </td>
                    </ng-container>
                  </ng-container>

                  <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef>Complete</th>
                    <ng-container *matCellDef="let element">
                      <td
                        mat-cell
                        *ngIf="
                          list.list_id == element.list_id &&
                          element.type == 'task'
                        "
                        [hidden]="element.type == 'list'"
                      >
                        <mat-slide-toggle
                          [checked]="element.is_complete == 1 ? true : false"
                          name="status"
                          (change)="
                            updateTask(
                              $event,
                              element.task_id,
                              element.history_id,
                              element.clinic_id
                            )
                          "
                        ></mat-slide-toggle>
                      </td>
                    </ng-container>
                  </ng-container>

                  <ng-container matColumnDef="isDataAvailable9">
                    <mat-footer-cell
                      *matFooterCellDef
                      [attr.colspan]="displayedColumns9.length"
                    >
                      <span *ngIf="isEnabletasks && futureDateDT == ''"
                        >No task list has been generated for today</span
                      >
                      <span *ngIf="isEnabletasks && futureDateDT != ''"
                        >Daily Tasks will be populated on
                        {{
                          futureDateDT | date : 'MMM d, y' : 'timezone'
                        }}</span
                      >
                      <span *ngIf="!isEnabletasks"
                        >Daily Tasks are not enabled - this can be configured in
                        your Jeeve Settings menu</span
                      >
                    </mat-footer-cell>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="displayedColumns9"></tr>
                  <tr
                    mat-row
                    *matRowDef="let row; columns: displayedColumns9"
                  ></tr>
                  <mat-footer-row
                    *matFooterRowDef="['isDataAvailable9']"
                    [ngClass]="
                      endOfDaysTasksInComp.data.length <= 0 ? 'show' : 'hide'
                    "
                  ></mat-footer-row>
                </table>
                <!-- responsive table - frontdesk followup (Post op calls)  -->
                <div fxHide.gt-sm>
                  <div *ngIf="endOfDaysTasksInComp.length; else noPostOpCalls">
                    <mat-card
                      class="huddle-card"
                      *ngFor="let element of endOfDaysTasksInComp"
                    >
                      <div fxLayout="row" class="huddle-card-row">
                        <div fxFlex="30">Task Name:</div>
                        <div fxFlex="70">{{ element.name }}</div>
                      </div>

                      <div fxLayout="row" class="huddle-card-row">
                        <div fxFlex="30">Complete</div>
                        <div fxFlex="70">
                          <mat-slide-toggle
                            [checked]="element.is_complete == 1 ? true : false"
                            name="status"
                            (change)="
                              updateTask(
                                $event,
                                element.task_id,
                                element.history_id,
                                element.clinic_id
                              )
                            "
                          >
                          </mat-slide-toggle>
                        </div>
                      </div>
                    </mat-card>
                  </div>
                  <ng-template #noPostOpCalls>
                    <mat-card class="huddle-card">
                      <h6>You have no daily tasks today</h6>
                    </mat-card>
                  </ng-template>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <div *ngIf="endTaksLoading == false && tasklistArray.length <= 0">
        <mat-card class="table-card post_call_responsive_border">
          <mat-card-title class="morngHuddle">
            <span>No Tasks Assigned</span>
          </mat-card-title>
        </mat-card>
      </div>
    </mat-tab>
    <!-- End of Day Tasks end if user type dentist -->

    <!-- responsive tabs dropdown -->
    <mat-tab label="responsive-tab-group" disabled>
      <ng-template mat-tab-label>
        <button
          mat-icon-button
          [matMenuTriggerFor]="menu"
          (click)="$event.stopPropagation()"
        >
          {{ morningHuddleTabs[selectedTab] }}
        </button>
        <mat-menu #menu="matMenu">
          <ng-container *ngFor="let tab of morningHuddleTabs; let i = index">
            <button
              mat-menu-item
              (click)="changeTab(i)"
              [ngClass]="{ active: i === selectedTab }"
            >
              {{ tab }}
            </button>
          </ng-container>
        </mat-menu>
      </ng-template>
    </mat-tab>
  </mat-tab-group>
</div>
