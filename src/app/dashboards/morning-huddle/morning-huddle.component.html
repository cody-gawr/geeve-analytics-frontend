<div class="sa_dashboard_inner_content morning-huddle">

<mat-tab-group [selectedIndex]="selectedTab">

  <!-- Dentist Performance Tab -->  
  <mat-tab label="Dentist Performance">
    <input type="button" id="clinic_initiate" (click) = "initiate_clinic()"  [style.display]="'none'">
      <div class="morning-huddle-date">
        <mat-form-field floatLabel="never">
          <!-- <mat-label>Previous Days</mat-label> -->
          <mat-select  placeholder="Previous Days" (selectionChange)="refreshPerformanceTab($event.value)" id="setPreviousDay">
            <mat-option [value]="1">1</mat-option>
            <mat-option [value]="2">2</mat-option>
            <mat-option [value]="3">3</mat-option>
            <mat-option [value]="4">4</mat-option>
            <mat-option [value]="5">5</mat-option>
            <mat-option [value]="6">6</mat-option>
            <mat-option [value]="7">7</mat-option>
          </mat-select>
        </mat-form-field>
        
          <strong> {{ production.date  }}</strong>
        
      </div>
    <!-- Top Cards -->
    <div>

      <div class="sa_dentist_graphs_area sa_profit_bar dentist-performance custom-row">
        <div fxLayout="row wrap" fxLayoutGap="20px" fxLayoutGap.sm="0px" fxLayoutGap.xs="0px">
          <div fxFlex="calc(33% - 10px)" fxFlex.md="calc(32% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="sa_flexbg mh-matcard custom_production_match" [ngClass]="production.goal > production.total? 'mh-matcard-down' : 'mh-matcard-up'">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><span class="material-icons">room_preferences</span></div> -->
                <mat-card-title class="">

                  <div class="prodction_main_box">
                    <div class="production_images">
                      <img src="../assets/images/product-chart.png" alt="product-chart" /> 
                    </div>
                    <div class="production_description">
                      <h4>Production</h4>
                      <div class="price-section" *ngIf="production">
                        <span class="change_value">${{ production.total | number:'1.0-0'}}</span>
                        <div
                         [ngClass]="(production.total > production.goal) ? 'profit ttl_value_left' : 'loss ttl_value_left'" 
                          >Goal: ${{  (production.goal || 0) | number:'1.0-0'}}
                        </div>                       
                        <img *ngIf="production.total > production.goal" src="../assets/images/production-chart-1.png" alt="production-chart-1" />
                        <img *ngIf="production.total < production.goal" src="../assets/images/rebook-chart.png" alt="rebook-chart" />
                      </div>
                    </div>
                  </div>

                  
                
                  
                </mat-card-title>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image" >
              <div class="change_value">
                    <span class="range_icon" *ngIf="production.goal < production.total">
                      <i class="fa fa-plus"></i>
                    </span>
                    <span class="range_icon" *ngIf="production.goal > production.total">
                      <i class="fa fa-minus"></i>
                    </span>${{ getdifference(production.total,production.goal) }}
                  </div>
            </div> -->
          </div>

          <div fxFlex="calc(33% - 10px)" fxFlex.md="calc(33% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="sa_flexbg mh-matcard custom_rebook_recall_rate" [ngClass]="recallRate.goal > recallRate.rate? 'mh-matcard-down' : 'mh-matcard-up'" >
            <mat-card  class="treatmentPlan sa_hccard"> 
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><i class="fab fa-rev"></i></div> -->
                <mat-card-title class="text-center">

                  <div class="prodction_main_box">
                    <div class="production_images">
                      <img src="../assets/images/profit.png" alt="product-chart" /> 
                    </div>
                    <div class="production_description">
                      <h4>Rebook Recall Rate</h4>
                      <div class="recall-retail-rate" *ngIf="recallRate">
                        <span class="change_value">{{ recallRate.rate }}%</span>
                        <!-- <div class="ttl_value_left">Goal: {{ recallRate.goal}}%</div> -->
                        <div class="ttl_value_left profit" *ngIf="!recallRate.goal">0%</div>
                        <div
                          [ngClass]="(recallRate.rate > recallRate.goal) ? 'profit ttl_value_left' : 'loss ttl_value_left'" 
                          *ngIf="recallRate.goal">
                          Goal: {{ recallRate.goal }}%                     
                        </div>
                        <img *ngIf="recallRate.rate > recallRate.goal" src="../assets/images/production-chart-1.png" alt="production-chart-1" />
                        <img *ngIf="recallRate.rate < recallRate.goal" src="../assets/images/rebook-chart.png" alt="rebook-chart" />
                      </div>
                    </div>
                  </div>


                  
                <!--  <img class="trend_ico" src="../assets/images/trend_up.png" *ngIf="recallRate.goal < recallRate.rate">
                   <img class="trend_ico" src="../assets/images/trend_down.png" *ngIf="recallRate.goal > recallRate.rate"> -->
                  
                  

              </mat-card-title>

              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image" >
              <div class="change_value">
                    <span class="range_icon" *ngIf="recallRate.goal < recallRate.rate">
                      <i class="fa fa-plus"></i>
                    </span>
                    <span class="range_icon" *ngIf="recallRate.goal > recallRate.rate">
                      <i class="fa fa-minus"></i>
                    </span>
                    <span *ngIf="!recallRate.goal">0%</span>
                    <span *ngIf="recallRate.goal">
                      {{ getdifference(recallRate.rate,recallRate.goal) }}%                     
                    </span>
              </div>
            </div> -->
          </div>

          <div fxFlex="calc(33% - 10px)" fxFlex.md="calc(33% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="sa_flexbg last mh-matcard" [ngClass]="treatmentRate.goal > treatmentRate.total ? 'mh-matcard-down' : 'mh-matcard-up'" >
            <mat-card  class="noPatients sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><span class="material-icons">medical_services</span></div> -->
                <mat-card-title class="text-center">
                  <div class="prodction_main_box">
                    <div class="production_images">
                      <img src="../assets/images/product-chart.png" alt="product-chart" /> 
                    </div>
                    <div class="production_description">
                      <h4>Rebook Treatment Rate</h4>
                      <div class="price-section" *ngIf="treatmentRate">
                          
                          <span class="change_value">{{ treatmentRate.total}}%</span>
                          <div class="ttl_value_left profit" *ngIf="!treatmentRate.goal">Goal: 0%</div>
                          <div 
                            [ngClass]="(treatmentRate.rate > treatmentRate.goal) ? 'profit ttl_value_left' : 'loss ttl_value_left'" 
                            *ngIf="treatmentRate.goal">
                            Goal: {{  treatmentRate.goal }}%                     
                          </div>
                          <img *ngIf="treatmentRate.total > treatmentRate.goal" src="../assets/images/production-chart-1.png" alt="production-chart-1" />
                          <img *ngIf="treatmentRate.total < treatmentRate.goal" src="../assets/images/rebook-chart.png" alt="rebook-chart" />
                      </div>
                    </div>
                  </div>
                  
                </mat-card-title>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image" >
              <div class="change_value">
                    <span class="range_icon" *ngIf="treatmentRate.goal < treatmentRate.total">
                      <i class="fa fa-plus"></i>
                    </span>
                    <span class="range_icon" *ngIf="treatmentRate.goal > treatmentRate.total">
                      <i class="fa fa-minus"></i>
                    </span>
                     <span *ngIf="!treatmentRate.goal">0%</span>
                    <span *ngIf="treatmentRate.goal">
                        {{ getdifference(treatmentRate.total, treatmentRate.goal) }}%                     
                    </span>
              </div>
            </div> -->
          </div>
        </div>                                                                                                        
      </div>
    </div>
    <!-- Top Cards -->

    <!-- Dentist List -->

<div class="DentistListSecRow mh-table">
<div class="card-loading d-none">
  <img class="tableLoader" src="../../assets/images/loader.gif">
</div>
<div class="respopnsive-table-set">
  <table mat-table [dataSource]="dentistList" class="mat-elevation-z8">
    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef> No. </th>
      <td mat-cell *matCellDef="let element"> {{element.id}} </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Name </th>
      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="production">
      <th mat-header-cell *matHeaderCellDef> Production Total </th>
      <td mat-cell *matCellDef="let element"> 
        <span [ngClass] = "(element.production.total >= element.production.goal)? 'mht-value-up' : 'mht-value-down'">
          ${{ element.production.total | number:'1.0-0' }} 
        </span>
      <span class="goal custom_goal">Goal: ${{ element.production.goal | number:'1.0-0' }}</span> </td>
    </ng-container>
    <!-- Symbol Column -->
    <ng-container matColumnDef="recall">
      <th mat-header-cell *matHeaderCellDef> Recall Rate </th>
      <td mat-cell *matCellDef="let element"> <span [ngClass] = "(element.recall.rate >= element.recall.goal)? 'mht-value-up' : 'mht-value-down'">{{element.recall.rate}}% </span>
      <span class="goal custom_goal">Goal: {{ element.recall.goal}}%</span>
  </td>
    </ng-container>
  <ng-container matColumnDef="treatment">
      <th mat-header-cell *matHeaderCellDef> Treatment Rate </th>
      <td mat-cell *matCellDef="let element"> <span [ngClass] = "(element.treatment.total >= element.treatment.goal)? 'mht-value-up' : 'mht-value-down'">{{element.treatment.total}}%</span>
      <span class="goal custom_goal">Goal: {{ element.treatment.goal}}%</span>
      </td>
    </ng-container>

    <!--<ng-container matColumnDef="isDataAvailable">
    <mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns.length" >
        No Data found
    </mat-footer-cell>
  </ng-container>
    <ng-container matColumnDef="loading" class="card-loading">
    <mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns.length" [attr.align]="center" >
      <img class="tableLoader" src="../../../assets/images/loader.gif">
    </mat-footer-cell>
  </ng-container>-->
    

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    <!--<mat-footer-row *matFooterRowDef="['isDataAvailable']" [ngClass]="(dentistList.data.length == 0 && dentistListLoading)? 'show' : 'hide'">
    </mat-footer-row>
    <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="(dentistList.data.length == 0 && !dentistListLoading)? 'show' : 'hide'">
    </mat-footer-row>-->

  </table>
</div>


  <ul class="main_pagination" *ngIf="dentistList.data && dentistList.data.length>10">
    <li><a href="javascript:void(0)" class="first-page active">1</a></li>
    <li><a href="javascript:void(0)" class="second-page">2</a></li>
    <li><a href="javascript:void(0)" class="third-page">3</a></li>
  </ul>

<div class="data-loading-main">
   <div class="no-data" [ngClass]="(dentistList.data.length == 0 && dentistListLoading)? 'show' : 'hide'">
      No Data found
   </div>
   <div class="loader" [ngClass]="(dentistList.data.length == 0 && !dentistListLoading)? 'show' : 'hide'">
     <img class="tableLoader" src="../../../assets/images/loader.gif">
   </div>
</div>




<!-- <mat-paginator  [length]="dentistList.length"
               [pageSize]="25"
               [pageSizeOptions]="[5, 10, 25, 100]">
</mat-paginator> -->
          <!-- <table class="table">
            <thead>
              <tr>
                <th>Doctor Name</th>
                <th>Production</th>
                <th>Recall Rate</th>
                <th>Prebook Rate</th>
              </tr>
            </thead>
            <tbody>
            <tr *ngFor="let dentist of dentistList | keyvalue">
              <td>
                <span class="title">{{ getFirstLetter(dentist.value.name) }}</span>                 
                <span class="name">{{ dentist.value.name }}</span></td>
              <td>
                <span class="gotMark">${{ dentist.value.production.total}}</span>                 
                <span class="goal">Goal: ${{ dentist.value.production.goal}}</span> </td>
              <td>
                <span class="gotMark">{{ dentist.value.recall.rate}}%</span>                  
                <span class="goal">Goal: {{ dentist.value.recall.goal}}%</span> 
              </td>
              <td>
                  <span class="gotMark">{{ dentist.value.treatment.total}}%</span>                
                  <span class="goal">Goal: {{ dentist.value.treatment.goal}}%</span>  
              </td>
              <td></td>
            </tr>
            </tbody>
          </table>
 -->
          <!--  <div class="cardsCon"  >
            <mat-card  class="noPatients sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <div class="left">
                                    
                </div>
                <div class="right">
                  <div>
                                            
                  </div>
                  <div>
                    <h5>Recall Rate</h5>
                    <span class="gotMark">{{ dentist.value.recall.rate}}%</span>                  
                    <span class="goal">Goal: {{ dentist.value.recall.goal}}%</span>                         
                  </div>
                  <div>
                    <h5>Prebook Rate</h5>
                    <span class="gotMark">{{ dentist.value.treatment.total}}%</span>                  
                    <span class="goal">Goal: {{ dentist.value.treatment.goal}}%</span>                          
                  </div>
                </div>                
              </mat-card-content>
            </mat-card>
          </div>   -->   

        </div>  


  </mat-tab>
  <!-- Dentist Performance Tab -->


  <!-- Patient Schedule Tab start -->  
  <mat-tab label="Patient Schedule">
     <div class="morning-huddle-date">
        <mat-form-field>
          <!-- <mat-label>Select Dentist</mat-label> -->
          <mat-select  (selectionChange)="refreshScheduleTab($event.value)" id="setPreviousDay2" [(ngModel)]="currentDentistSchedule">
            <mat-option [value]="0">All Dentist</mat-option>
            <mat-option [value]="dentist.providerId" *ngFor="let dentist of clinicDentists">{{ dentist.name }}</mat-option>
          </mat-select>          
        </mat-form-field>        
        <strong> {{ schedulePatielDate  }}</strong>
      </div>
      <div class="sa_dentist_graphs_area sa_profit_bar patient-schedule">
        <div fxLayout="row wrap" fxLayoutGap="20px" fxLayoutGap.md="20px" fxLayoutGap.sm="0px" fxLayoutGap.xs="0px">
          <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="sa_flexbg mh-matcard mh-matcard-darkblue">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><i class="fas fa-user-alt"></i></div> -->
                <!-- <mat-card-title class="">
                  <div class="ttl_value">{{ schedulePatieltd }}</div>
                  Patients
                </mat-card-title> -->

                  <div class="prodction_main_box">
                    <div class="icon purple">
                      <i class="fas fa-user-alt"></i>
                    </div>
                    <div class="production_description">
                      <h4>Patients</h4>
                      <div class="patients-num">
                        <span class="change_value">{{ schedulePatieltd }}</span>
                        <img src="../assets/images/production-chart-1.png" alt="production-chart-1" />
                      </div>
                    </div>
                  </div>

              </mat-card-content>
            </mat-card> 
            <!-- <div class="graph_image" ></div> -->
          </div>
          <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="sa_flexbg mr0-md mh-matcard mh-matcard-red">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><i class="fas fa-user-plus"></i></div> -->
                <!-- <mat-card-title class="">
                  <div class="ttl_value">{{ scheduleNewPatieltd }}</div>
                  New Patients </mat-card-title> -->
                  <div class="prodction_main_box">
                    <div class="icon red">
                      <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="production_description">
                      <h4>New Patients</h4>
                      <div class="patients-num">
                        <span class="change_value">{{ scheduleNewPatieltd }}</span>
                        <img src="../assets/images/rebook-chart.png" alt="rebook-chart" />
                      </div>
                    </div>
                  </div>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image" ></div> -->
          </div>
          <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="sa_flexbg mh-matcard mh-matcard-green">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><span class="material-icons">access_alarm</span></div> -->
                <!-- <mat-card-title class="">
                  <div class="ttl_value">{{ schedulehours }}</div>
                  Scheduled Hours </mat-card-title> -->
                  <div class="prodction_main_box">
                    <div class="icon green">
                      <span class="material-icons">access_alarm</span>
                    </div>
                    <div class="production_description">
                      <h4>Scheduled Hours</h4>
                      <div class="patients-num">
                        <span class="change_value">{{ schedulehours }}</span>
                        <img src="../assets/images/production-chart-1.png" alt="production-chart-1" />
                      </div>
                    </div>
                  </div>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image" ></div> -->
          </div>
          <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="sa_flexbg last mh-matcard mh-matcard-blue">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><i class="fas fa-coins"></i></div> -->
                <!-- <mat-card-title class="">
                  <div class="ttl_value">${{ unSchedulehours }}</div>
                  Unscheduled </mat-card-title> -->
                  <div class="prodction_main_box">
                    <div class="icon blue">
                      <i class="fas fa-coins"></i>
                    </div>
                    <div class="production_description">
                      <h4>Unscheduled</h4>
                      <div class="patients-num">
                        <span class="change_value">${{ unSchedulehours | number:'1.0-0' }}</span>
                        <img src="../assets/images/production-chart-1.png" alt="production-chart-1" />
                      </div>
                    </div>
                  </div>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image" ></div> -->
          </div>
        </div>
      </div>
      <div class="DentistListSecRow mh-table patient_data-table_responsive">
<table mat-table  matSort [dataSource]="appointmentCards" class="mat-elevation-z8">
  <!-- Name Column -->
  <ng-container matColumnDef="start">
    <th mat-header-cell *matHeaderCellDef>Time </th>
    <td id="{{ element.provider_id }}" mat-cell *matCellDef="let element"><span class="newpatient"></span>{{ element.app_date +" " + element.start | date :'h:mm a' }} - {{ endTime(element.app_date,element.start,element.duration) | date :'h:mm a' }} 
    <span class="newpatient" *ngIf="element.is_new_patient != 'No'"></span></td>
  </ng-container>

   <ng-container matColumnDef="dentist">
    <th mat-header-cell *matHeaderCellDef>Dentist </th>
    <td mat-cell *matCellDef="let element"> {{element.provider_name }} </td>
  </ng-container>

   <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Patient  </th>
    <td mat-cell *matCellDef="let element"> {{ element.patient_name }} </td>
  </ng-container>

  <!-- Weight Column -->
<ng-container matColumnDef="card">
    <th mat-header-cell *matHeaderCellDef>Notifications</th>
    <td mat-cell *matCellDef="let element"> 
      
      <div class="appointment" *ngIf="element.recall_overdue == 'yes'"> 
        <span class="warning" ><span> <img src="../assets/images/warning-huddle.png" alt="warning-huddle" /></span> No Recall for > 6 Months</span>
      </div>
      <div class="appointment" *ngIf="element.noRecall == 'No'"> 
        <span class="warning" ><span class=""><img src="../assets/images/warning-huddle.png" alt="warning-huddle" /></span>  No previous recalls</span>
      </div>
      <div class="appointment" *ngIf="element.is_birthday == 'Yes'"> 
        <span class="warning" ><span class=""><img src="../assets/images/warning-huddle.png" alt="warning-huddle" /></span>Birthday</span>
      </div>
       
      <div class="appointment" *ngIf="element.outstanding_item_value > 0"> <span class="warning" ><img src="../assets/images/warning-huddle.png" alt="warning-huddle" /> Outstanding Treatment ${{ element.outstanding_item_value | number:'1.0-0' }}</span></div>
      
       <div class="appointment" *ngIf="element.overdue_037 == 'Yes' && element.overdue_022 == 'Yes'">
          <span class="warning" title="022,037 "><img src="../assets/images/warning-huddle.png" alt="warning-huddle" /> Xrays Overdue</span> 
      </div>
      <div class="appointment" *ngIf="element.overdue_037 == 'Yes' && element.overdue_022 == 'No'">
          <span class="warning" title="037 "><img src="../assets/images/warning-huddle.png" alt="warning-huddle" /> Xrays Overdue</span>
      </div>
      <div class="appointment" *ngIf="element.overdue_022 == 'Yes' && element.overdue_037 == 'No'">
          <span class="warning" title="022 "><img src="../assets/images/warning-huddle.png" alt="warning-huddle" /> Xrays Overdue</span>
      </div>
      <div class="appointment" *ngIf="element.noshows == 'Yes'"> <span class="warning" ><img src="../assets/images/warning-huddle.png" alt="warning-huddle" /> History of No Shows (Patient has >=3 FTA/UTA)</span></div>
    </td>
  </ng-container>

  <!-- <ng-container matColumnDef="card">
    <th mat-header-cell *matHeaderCellDef>Outstanding Treatment</th>
    <td mat-cell *matCellDef="let element"> 
      <span class="warning" *ngIf="element.outstanding.warning"></span>
      {{ element.outstanding.outstandingCode }}<span *ngIf="element.outstanding.outstandingCode">:</span>  
      <span *ngIf="element.outstanding.outstandingDollar">$</span>{{element.outstanding.outstandingDollar}}</td>
  </ng-container> -->

  <!-- Symbol Column -->
<!--   <ng-container matColumnDef="xrays">
    <th mat-header-cell *matHeaderCellDef> Last Xrays </th>
    <td mat-cell *matCellDef="let element">
      <span *ngIf="element.xray.length <= 0 ">No Records</span>
      <p *ngFor="let xray of element.xray">
        <span class="warning" *ngIf="element.xray.warning"></span>
        <span  *ngIf="xray.code">{{ xray.code }}</span> -
        <span  *ngIf="xray.date">{{ xray.date | date : "fullDate" }}</span>
      </p>
     
</td>
  </ng-container>
 <ng-container matColumnDef="noshows">
    <th mat-header-cell *matHeaderCellDef> History of No Shows </th>
    <td mat-cell *matCellDef="let element"> 
      <span class="warning" *ngIf="element.noshows > 3"></span> {{ element.noshows }}
     </td>
  </ng-container>

 -->

 <ng-container matColumnDef="isDataAvailable">
   <mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns6.length">
      No Data found
   </mat-footer-cell>
</ng-container>
 
  <tr  mat-header-row *matHeaderRowDef="displayedColumns6"></tr>
  <tr id="" mat-row *matRowDef="let row; columns: displayedColumns6;"></tr>

  <mat-footer-row *matFooterRowDef="['isDataAvailable']" [ngClass]="(appointmentCards.data.length == 0)? 'show' : 'hide'"></mat-footer-row>
</table>
</div>
  </mat-tab>
  <!-- Patient Schedule Tab end -->


  <!-- Front desk Tab start -->  
  <mat-tab label="Front Desk">
    <div class="sa_dentist_graphs_area sa_profit_bar front-desk">
       <!--  <div class="morning-huddle-date">
        <mat-form-field>
          <mat-label>Previous Days</mat-label>
          <mat-select (selectionChange)="frontDeskTab($event.value)" id="setPreviousDay">
            <mat-option [value]="1">1</mat-option>
            <mat-option [value]="2">2</mat-option>
            <mat-option [value]="3">3</mat-option>
            <mat-option [value]="4">4</mat-option>
            <mat-option [value]="5">5</mat-option>
            <mat-option [value]="6">6</mat-option>
            <mat-option [value]="7">7</mat-option>
          </mat-select>
        </mat-form-field>
        
          <strong> {{ production.date | date: 'fullDate' }} </strong>
        
      </div> -->
      <div class="morning-huddle-date"><strong *ngIf="reAppointmentdate">{{ reAppointmentdate }}</strong> </div>
        <div fxLayout="row wrap" fxLayoutGap="20px" fxLayoutGap.md="20px" fxLayoutGap.sm="0px" fxLayoutGap.xs="0px">
           <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100"  class="sa_flexbg mh-matcard mh-matcard-red">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><i class="far fa-calendar"></i></div>
                <mat-card-title class="">
                  <div class="ttl_value">{{ unscheduledPatients }}</div>
                  Unscheduled Patients</mat-card-title> -->
                  <div class="prodction_main_box">
                    <div class="icon red">
                      <i class="far fa-calendar"></i>
                    </div>
                    <div class="production_description">
                      <h4>Unscheduled Patients</h4>
                      <div class="patients-num">
                        <span class="change_value">{{ unscheduledPatients }}</span>
                      </div>
                    </div>
                  </div>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image"></div> -->
          </div>

          <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100"  class="sa_flexbg mh-matcard mh-matcard-purple">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><i class="far fa-calendar-check"></i></div>
                <mat-card-title class="">
                  <div class="ttl_value">{{ reAppointment }}%</div>
                  Re-Appointment </mat-card-title> -->
                  <div class="prodction_main_box">
                    <div class="icon purple">
                      <i class="far fa-calendar-check"></i>
                    </div>
                    <div class="production_description">
                      <h4>Re-Appointment %</h4>
                      <div class="patients-num" >
                        <span class="change_value">{{ reAppointment }} %</span>
                      </div>
                    </div>
                  </div>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image"></div> -->
          </div>
         
          <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100"  class="sa_flexbg mh-matcard mh-matcard-blue">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><i class="fas fa-coins"></i></div>
                <mat-card-title class="">
                  <div class="ttl_value">${{ unscheduledValue }}</div>
                  Unscheduled Value </mat-card-title> -->
                  <div class="prodction_main_box">
                    <div class="icon blue">
                      <span class="material-icons">access_alarm</span>
                    </div>
                    <div class="production_description">
                      <h4>Unscheduled Balance</h4>
                      <div class="patients-num">
                        <span class="change_value">${{ unscheduledValue | number:'1.0-0' }}</span>
                      </div>
                    </div>
                  </div>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image"></div> -->
          </div>
           <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100"  class="sa_flexbg last mh-matcard mh-matcard-red">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                  <div class="prodction_main_box">
                    <div class="icon red">
                      <i class="far fa-calendar"></i>
                    </div>
                    <div class="production_description">
                      <h4>No Shows</h4>
                      <div class="patients-num">
                        <span class="change_value"> {{ noShow }}</span>
                      </div>
                    </div>
                  </div>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image"></div> -->
          </div>
        </div>
        <div class="morning-huddle-date"><strong *ngIf="todayPatientsDate"> {{ todayPatientsDate }}</strong></div>
        <div fxLayout="row wrap" fxLayoutGap="20px" fxLayoutGap.md="20px" fxLayoutGap.sm="0px" fxLayoutGap.xs="0px">
          <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="sa_flexbg mh-matcard mh-matcard-darkblue">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><i class="fas fa-user-alt"></i></div>
                <mat-card-title class="">
                  <div class="ttl_value"> {{ todayPatients }}</div>
                  Patients </mat-card-title> -->
                  <div class="prodction_main_box">
                    <div class="icon black">
                      <i class="fas fa-user-alt"></i>
                    </div>
                    <div class="production_description">
                      <h4>Patients</h4>
                      <div class="patients-num" >
                        <span class="change_value">{{ todayPatients }}</span>
                      </div>
                    </div>
                  </div>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image"></div> -->
          </div>
          <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="sa_flexbg mh-matcard mr0-md mh-matcard-green">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><span class="material-icons">access_alarm</span></div>
                <mat-card-title class="">
                  <div class="ttl_value">{{ todayUnscheduledHours }}</div>
                  Unscheduled Hours </mat-card-title> -->
                  <div class="prodction_main_box">
                    <div class="icon green">
                      <span class="material-icons">access_alarm</span>
                    </div>
                    <div class="production_description">
                      <h4>Unscheduled Hours</h4>
                      <div class="patients-num">
                        <span class="change_value">{{ todayUnscheduledHours }}</span>
                      </div>
                    </div>
                  </div>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image"></div> -->
          </div>
          <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="sa_flexbg mh-matcard mh-matcard-orange">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><i class="fas fa-coins"></i></div>
                <mat-card-title class="">
                  <div class="ttl_value">${{ todayUnscheduledBal }}</div>
                  Unscheduled Bal </mat-card-title> -->
                  <div class="prodction_main_box">
                    <div class="icon orange">
                      <i class="fas fa-coins"></i>
                    </div>
                    <div class="production_description">
                      <h4>Due Balance</h4>
                      <div class="patients-num">
                        <span class="change_value">${{ todayUnscheduledBal | number:'1.0-0' }}</span>
                      </div>
                    </div>
                  </div>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image"></div> -->
          </div>
          <div fxFlex="calc(20% - 10px)" fxFlex.md="calc(50% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="sa_flexbg last mh-matcard mh-matcard-brown">
            <mat-card class="dentistProduction sa_hccard">
              <mat-card-content class="sa_matcard_content">
                <!-- <div class="card-icon"><i class="fas fa-phone-alt"></i></div>
                <mat-card-title class="">
                  <div class="ttl_value">{{ todayPostopCalls }}</div>
                  Post op Calls </mat-card-title> -->
                  <div class="prodction_main_box">
                    <div class="icon purple">
                      <i class="fas fa-phone-alt"></i>
                    </div>
                    <div class="production_description">
                      <h4>Post Op Calls</h4>
                      <div class="patients-num">
                        <span class="change_value">{{ todayPostopCalls }}</span>
                      </div>
                    </div>
                  </div>
              </mat-card-content>
            </mat-card>
            <!-- <div class="graph_image"></div> -->
          </div>
        </div>
      </div>
  </mat-tab>
  <!-- Front desk Tab end -->


  <!-- Reminders Tab start -->  
  <mat-tab label="Reminders">

     <div class="morning-huddle-date">
        <strong>{{ remindersRecallsOverdueDate }}</strong>        
      </div>
<mat-card class="table-card">
  <mat-card-title>Recalls Overdue</mat-card-title>
  <mat-card-content> 
    <div class="responsive_patient_data">
      <div class="DentistListSecRow mh-table patient_data-table_responsive" style="max-height: 500px; overflow: auto;">
        <table mat-table [dataSource]="remindersRecallsOverdue" class="mat-elevation-z8 reminders-table">
    
          <!-- Appointment Column -->
          <ng-container matColumnDef="start">
            <th mat-header-cell *matHeaderCellDef> Appointment Time </th>
            <td mat-cell *matCellDef="let element">
              {{ element.start | date: 'h:mm a':'UTC' }}
            </td>
          </ng-container>
    
          <!-- Patient name Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Patient Name </th>
            <td mat-cell *matCellDef="let element"> {{element.patient_name}} </td>
          </ng-container>
    
          <!-- Dentist Column -->
          <ng-container matColumnDef="dentist">
            <th mat-header-cell *matHeaderCellDef> Dentist Name </th>
            <td mat-cell *matCellDef="let element">{{element.app_book_description}} </td>
          </ng-container>
    
    
          <ng-container matColumnDef="isDataAvailable">
            <mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns1.length">
              No Data found
            </mat-footer-cell>
          </ng-container>
    
          <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
    
    
          <mat-footer-row *matFooterRowDef="['isDataAvailable']"
            [ngClass]="(remindersRecallsOverdue.length == 0)? 'show' : 'hide'"></mat-footer-row>
        </table>
      </div>
    </div>
<!--<div fxLayout="row wrap" fxLayoutGap="20px" fxLayoutGap.md="20px" fxLayoutGap.sm="0px"  fxLayoutGap.xs="0px">
          <div fxFlex="calc(70% - 10px)" fxFlex.md="calc(60% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="responsive_patient_data" >
             
   </div>
          <div fxFlex="calc(30% - 10px)" fxFlex.md="calc(40% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="last text-center">
            <img src="./assets/images/recalls-overdue.png">
          </div>
        </div> -->
  </mat-card-content>
</mat-card>




<mat-card class="table-card">
  <mat-card-title>Treatment Outstanding</mat-card-title>
  <mat-card-content> 
  <div>
    <div class="DentistListSecRow mh-table" style="max-height: 500px; overflow: auto;">
      <table mat-table [dataSource]="treatmentOutstanding" class="mat-elevation-z8 reminders-table">
        <!-- Appointment Column -->
        <ng-container matColumnDef="start">
          <th mat-header-cell *matHeaderCellDef> Appointment Time </th>
          <td mat-cell *matCellDef="let element"> {{element.start | date: 'h:mm a':'UTC' }} </td>
        </ng-container>
  
        <!-- Patient name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Patient Name </th>
          <td mat-cell *matCellDef="let element"> {{element.patient_name}} </td>
        </ng-container>
  
        <!-- Outstanding Column -->
        <ng-container matColumnDef="outstanding">
          <th mat-header-cell *matHeaderCellDef> Treatment Codes </th>
          <td mat-cell *matCellDef="let element"> {{element.code}}</td>
        </ng-container>
  
        <ng-container matColumnDef="isDataAvailable">
          <mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns3.length">
            No Data found
          </mat-footer-cell>
        </ng-container>
  
        <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns3;"></tr>
  
        <mat-footer-row *matFooterRowDef="['isDataAvailable']"
          [ngClass]="(treatmentOutstanding.length == 0)? 'show' : 'hide'"></mat-footer-row>
      </table>
    </div>
  </div>
<!-- <div fxLayout="row wrap" fxLayoutGap="20px" fxLayoutGap.md="20px" fxLayoutGap.sm="0px"  fxLayoutGap.xs="0px">
          <div fxFlex="calc(70% - 10px)" fxFlex.md="calc(60% - 10px)" fxFlex.sm="100" fxFlex.xs="100">
              
   </div>
          <div fxFlex="calc(30% - 10px)" fxFlex.md="calc(40% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="last text-center">
            <img src="./assets/images/treatment-outstanding.png">
          </div>
        </div> -->
  </mat-card-content>
</mat-card>





<mat-card class="table-card">
  <mat-card-title>Outstanding Balance</mat-card-title>
  <mat-card-content> 
  <div>
    <div class="DentistListSecRow mh-table" style="max-height: 500px; overflow: auto;">
      <table mat-table [dataSource]="outstandingBalances" class="mat-elevation-z8 reminders-table">
        <!-- Appointment Column -->
        <ng-container matColumnDef="start">
          <th mat-header-cell *matHeaderCellDef> Appointment Time </th>
          <td mat-cell *matCellDef="let element">{{element.start | date: 'h:mm a':'UTC' }} </td>
        </ng-container>
  
        <!-- Patient name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Patient Name </th>
          <td mat-cell *matCellDef="let element"> {{element.patient_name}} </td>
        </ng-container>
  
        <!-- Outstanding Column -->
        <ng-container matColumnDef="outstanding">
          <th mat-header-cell *matHeaderCellDef> Outstanding Amount </th>
          <td mat-cell *matCellDef="let element">$
            <span *ngIf="element.outstanding %1 == 0">{{ element.outstanding }}</span>
            <span *ngIf="element.outstanding %1 != 0">{{ element.outstanding | number:'1.0-0'}}</span>
          </td>
        </ng-container>
        <ng-container matColumnDef="isDataAvailable">
          <mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns3.length">
            No Data found
          </mat-footer-cell>
        </ng-container>
  
        <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns3;"></tr>
        <mat-footer-row *matFooterRowDef="['isDataAvailable']"
          [ngClass]="(outstandingBalances.length == 0)? 'show' : 'hide'"></mat-footer-row>
      </table>
    </div>
  </div>
<!-- <div fxLayout="row wrap" fxLayoutGap="20px" fxLayoutGap.md="20px" fxLayoutGap.sm="0px"  fxLayoutGap.xs="0px">
          <div fxFlex="calc(70% - 10px)" fxFlex.md="calc(60% - 10px)" fxFlex.sm="100" fxFlex.xs="100">
             
   </div>
          <div fxFlex="calc(30% - 10px)" fxFlex.md="calc(40% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="last text-center">
            <img src="./assets/images/outstanding-balance.png">
          </div>
        </div> -->
  </mat-card-content>
</mat-card>

  </mat-tab>
  <!-- Reminders Tab end -->


  <!-- Followups Tab start -->
  <mat-tab label="Followups">
      <div class="morning-huddle-date">
        <strong>{{ followupsUnscheduledPatientsDate }}</strong>        
      </div>    
<mat-card class="table-card">
  <mat-card-title>Unscheduled Patients</mat-card-title>
  <mat-card-content> 
<div class="DentistListSecRow mh-table patient_data-table_responsive" style="max-height: 500px; overflow: auto;">
  <table mat-table [dataSource]="followupsUnscheduledPatients" class="mat-elevation-z8">

    <!-- Patient Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Patient Name </th>
      <td mat-cell *matCellDef="let element"> {{element.patient_name}}</td>
    </ng-container>

    <!-- Phone Number Column -->
    <ng-container matColumnDef="phone">
      <th mat-header-cell *matHeaderCellDef> Phone Number </th>
      <td mat-cell *matCellDef="let element">
        <div class="phone_align_center">
          <img src="../assets/images/follow-up-call.png" alt="follow-up-call" />
          <span class="phone_no">{{element.phone_number}}</span>
        </div>
      </td>
    </ng-container>

    <!-- Unscheduled Treatment Column -->
    <ng-container matColumnDef="code">
      <th mat-header-cell *matHeaderCellDef> Unscheduled Treatment </th>
      <td mat-cell *matCellDef="let element"> {{element.code}}</td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <!-- "{{ element.status }}" -->
      <td mat-cell *matCellDef="let element">
        <mat-slide-toggle checked="{{element.status}}" name="status"
          (change)="toggleUpdate($event,element.pid,element.cid,element.uid,'Unscheduled Patients')"></mat-slide-toggle>
      </td>
    </ng-container>

    <ng-container matColumnDef="isDataAvailable">
      <mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns4.length">
        No Data found
      </mat-footer-cell>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns4"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns4;"></tr>
    <mat-footer-row *matFooterRowDef="['isDataAvailable']"
      [ngClass]="(followupsUnscheduledPatients.length == 0)? 'show' : 'hide'"></mat-footer-row>
  </table>
</div>
<!-- <div fxLayout="row wrap" fxLayoutGap="20px" fxLayoutGap.md="20px" fxLayoutGap.sm="0px"  fxLayoutGap.xs="0px">
          <div fxFlex="calc(70% - 10px)" fxFlex.md="calc(60% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="responsive_patient_data" >
             
   </div>
          <div fxFlex="calc(30% - 10px)" fxFlex.md="calc(40% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="last text-center">
            <img src="./assets/images/unsheild-patient.png" alt="unsheild-patient">
          </div>
        </div> -->
  </mat-card-content>
</mat-card>



<mat-card class="table-card post_call_responsive_border">
  <mat-card-title>Post op Calls</mat-card-title>
  <mat-card-content> 
<div class="DentistListSecRow mh-table patient_data-table_responsive" style="max-height: 500px; overflow: auto;">
  <table mat-table [dataSource]="followupPostOpCalls" class="mat-elevation-z8">


    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Name </th>
      <td mat-cell *matCellDef="let element"> {{element.Dentists.name }} </td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="phone">
      <th mat-header-cell *matHeaderCellDef> Phone Number </th>
      <td mat-cell *matCellDef="let element">
        <div class="phone_align_center">
          <img src="../assets/images/follow-up-call.png" alt="follow-up-call" />
          <span class="phone_no" *ngIf="element.phone_home && !element.phone_work">{{element.phone_home}}</span>
          <span class="phone_no" *ngIf="!element.phone_home && element.phone_work">{{element.phone_work}}</span>
          <span class="phone_no" *ngIf="!element.phone_home && !element.phone_work">{{element.mobile}}</span>
        </div>
      </td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="code">
      <th mat-header-cell *matHeaderCellDef> Treatment Name </th>
      <td mat-cell *matCellDef="let element">{{ element.treat_item }}</td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let element">
        <mat-slide-toggle checked="{{ element.status }}" name="status"
          (change)="toggleUpdate($event,element.patient_id,element.cid,element.uid,'Post op Calls')"></mat-slide-toggle>
      </td>
    </ng-container>
    <ng-container matColumnDef="isDataAvailable">
      <mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns5.length">
        No Data found
      </mat-footer-cell>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns5"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns5;"></tr>
    <mat-footer-row *matFooterRowDef="['isDataAvailable']"
      [ngClass]="(followupPostOpCalls.length == 0)? 'show' : 'hide'"></mat-footer-row>
  </table>
</div>
  <!--<div fxLayout="row wrap" fxLayoutGap="20px" fxLayoutGap.md="20px" fxLayoutGap.sm="0px"  fxLayoutGap.xs="0px">
          <div fxFlex="calc(70% - 10px)" fxFlex.md="calc(60% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="respopnsive_leptop_post_call">
              
   </div>
           <div fxFlex="calc(30% - 10px)" fxFlex.md="calc(40% - 10px)" fxFlex.sm="100" fxFlex.xs="100" class="last text-center">
            <img src="./assets/images/post-op-call-2.png" alt="post-op-call-2">
          </div>
        </div>-->
  </mat-card-content>
</mat-card>


  </mat-tab>
  <!-- Followups Tab end -->


 <!-- responsive tabs dropdown -->
  <mat-tab label="responsive-tab-group" disabled>
    <ng-template mat-tab-label>
      <button mat-icon-button [matMenuTriggerFor]="menu" (click)="$event.stopPropagation()">
          {{ morningHuddleTabs[selectedTab] }}
      </button>
      <mat-menu #menu="matMenu">
        <ng-container *ngFor="let tab of morningHuddleTabs; let i=index">
          <button mat-menu-item (click)="changeTab(i)" [ngClass]="{'active': i===selectedTab}">{{ tab }}</button>
        </ng-container>
      </mat-menu>
    </ng-template>
  </mat-tab>

</mat-tab-group>


</div>