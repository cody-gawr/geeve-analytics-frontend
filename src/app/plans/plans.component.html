
<input type="button" id="clinic_initiate" (click) = "initiate_clinic()"  [style.display]="'none'">

<mat-card>
    <mat-card-content>

        <div class="main_title_outer">
            <div class="main_title_withbtn">
                <mat-card-title><span class="main-title">Membership Plans</span></mat-card-title>
            </div>
            <div class="title_btn" style="margin-bottom:10px;">
                <button class=" mat-raised-button mat-gray mr-15" mat-raised-button (click)="openDialog()" *ngIf="clinic_id > 0">Add Member Plan</button>
            </div>
        </div>
        <!--mat-form-field>
            <input matInput type='text' class="form-control" placeholder='Type to filter Plan name...' (keyup)='updateFilter($event)'
            />
        </mat-form-field-->
        <div class="ngx_datatable_scroll_div">
        <ngx-datatable #table class='material responsive-datatable datatable-middle rdt_1600px action-two' [columns]="columns" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
            [rowHeight]="'auto'" [limit]="10" [rows]='rows'>
   <!--     <ngx-datatable-column name="Id">
         <ng-template let-column="column" ngx-datatable-header-template>
        <span>Id</span>
      </ng-template>
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
          <span>
            <span class="datatable_label">Id : </span> {{rowIndex+1}}
          </span>
        </ng-template>
      </ngx-datatable-column> -->
     <ngx-datatable-column name="planName">
      <ng-template let-column="column" ngx-datatable-header-template>
        <span>Membership Plans</span>
      </ng-template>
       <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
           <span class="datatable_label">Member Plan : </span>{{value}}
       </ng-template>        
      </ngx-datatable-column>
        <ngx-datatable-column name="planOrder">
         <ng-template let-column="column" ngx-datatable-header-template>
        <span>Plan Order</span>
      </ng-template>
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
            <span class="datatable_label">Plan Order : </span>{{value}}
       </ng-template>        
      </ngx-datatable-column>
       <ngx-datatable-column name="planLength">
         <ng-template let-column="column" ngx-datatable-header-template>
        <span>Plan Length</span>
      </ng-template>
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
            <span class="datatable_label">Plan Length : </span>{{value}}
        </ng-template>
      </ngx-datatable-column>
       <ngx-datatable-column name="totalAmount">
         <ng-template let-column="column" ngx-datatable-header-template>
        <span>Total <span class="nowrap">Amount ($)</span></span>
      </ng-template>
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
            <span class="datatable_label">Total Amount ($) : </span><span *ngIf="isDecimal(value)"> {{value  | currency: 'USD':true:'1.2-2'}} </span> <span  *ngIf="!isDecimal(value)">{{value| currency: 'USD':true:'1.0'}}</span>
       </ng-template>
      </ngx-datatable-column>
       <ngx-datatable-column name="preventative_discount" prop="preventative_discount">
        <ng-template let-column="column" ngx-datatable-header-template>
       <span>Treatment Discount</span>
     </ng-template>
       <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
           <span class="datatable_label">Treatment Discount : </span>{{value}} %
       </ng-template>
     </ngx-datatable-column>
   <ngx-datatable-column name="description">
      <ng-template let-column="column" ngx-datatable-header-template>
     <span>Description</span>
   </ng-template>
     <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
         <span class="datatable_label">Description : </span>{{value}}
      </ng-template>
   </ngx-datatable-column>
      <ngx-datatable-column name="id">
         <ng-template let-column="column" ngx-datatable-header-template>
        <span>Actions</span>
      </ng-template>
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value" style="width:266px!important;">
            <a class="action_btn sa-pull-right patient_detail_edit textonly" (click)="openUpdateDialog(rowIndex)" title= 'Update Plan'><span class="material-icons">edit</span></a>
          <button class="action_btn text-danger" mat-menu-item (click) = "deletePlan(rowIndex)">         
         <span class="material-icons">delete</span></button>
        </ng-template>
      </ngx-datatable-column>
        </ngx-datatable>
        </div>
    </mat-card-content>
</mat-card>
