<mat-accordion class="settings-table-card clinic-expansion-panel" multi="false">
  <mat-expansion-panel *ngIf="userType != '7'">
    <mat-expansion-panel-header>
      <mat-panel-title> Clinic </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-card-content>
      <form
        [formGroup]="form"
        class="basic-form sa_forms_design"
        (ngSubmit)="onSaveBaseSettings()"
      >
        <h4 class="clinic-settings-form-title">Clinic Settings</h4>
        <div
          fxLayout="row wrap"
          fxLayoutGap="20px"
          fxLayoutGap.md="0px"
          fxLayoutGap.sm="0px"
          fxLayoutGap.xs="0"
        >
          <div
            class="clinic-setting-form"
            fxFlex.md="100"
            fxFlex.sm="100"
            fxFlex.xs="100"
            style="width: 100%"
          >
            <div
              fxLayout="row wrap"
              fxLayoutGap="20px"
              fxLayoutGap.md="20px"
              fxLayoutGap.sm="20px"
              fxLayoutGap.xs="0"
            >
              <div
                fxFlex="calc(49% - 10px)"
                fxFlex.md="calc(49% - 10px)"
                fxFlex.sm="calc(49% - 10px)"
                fxFlex.xs="100"
              >
                <div class="sa-form-group">
                  <label>Clinic Name</label>
                  <input
                    placeholder=""
                    [formControl]="form.controls['clinicName']"
                    [(ngModel)]="clinicName"
                  />
                  <small
                    *ngIf="
                      form.controls['clinicName'].hasError('required') &&
                      form.controls['clinicName'].touched
                    "
                    class="text-danger support-text"
                    >Clinic Name is Required.</small
                  >
                  <small
                    *ngIf="
                      form.controls['clinicName'].hasError('pattern') &&
                      form.controls['clinicName'].touched
                    "
                    class="text-danger support-text"
                    >Clinic Name should not be blank.</small
                  >
                </div>
              </div>
              <div
                fxFlex="calc(49% - 10px)"
                fxFlex.md="calc(49% - 10px)"
                fxFlex.sm="calc(49% - 10px)"
                fxFlex.xs="100"
              >
                <div class="sa-form-group">
                  <label>Contact Name</label>
                  <input
                    placeholder=""
                    [formControl]="form.controls['contactName']"
                    [(ngModel)]="contactName"
                  />
                </div>
              </div>
            </div>
            <div
              fxLayout="row wrap"
              fxLayoutGap="20px"
              fxLayoutGap.md="20px"
              fxLayoutGap.sm="20px"
              fxLayoutGap.xs="0"
            >
              <div
                fxFlex="calc(49% - 10px)"
                fxFlex.md="calc(49% - 10px)"
                fxFlex.sm="calc(49% - 10px)"
                fxFlex.xs="100"
              >
                <div class="sa-form-group">
                  <label>Address</label>
                  <input
                    placeholder=""
                    [formControl]="form.controls['address']"
                    [(ngModel)]="address"
                  />
                </div>
              </div>
              <div
                fxFlex="calc(49% - 10px)"
                fxFlex.md="calc(49% - 10px)"
                fxFlex.sm="calc(49% - 10px)"
                fxFlex.xs="100"
              >
                <div class="sa-form-group">
                  <label>Timezone</label>
                  <select
                    [formControl]="form.controls['timezone']"
                    [(ngModel)]="timezone"
                  >
                    <option value="Australia/Lord_Howe">
                      Australia/Lord_Howe
                    </option>
                    <option value="Australia/Hobart">Australia/Hobart</option>
                    <option value="Australia/Currie">Australia/Currie</option>
                    <option value="Australia/Melbourne">
                      Australia/Melbourne
                    </option>
                    <option value="Australia/Sydney">Australia/Sydney</option>
                    <option value="Australia/Broken_Hill">
                      Australia/Broken_Hill
                    </option>
                    <option value="Australia/Brisbane">
                      Australia/Brisbane
                    </option>
                    <option value="Australia/Lindeman">
                      Australia/Lindeman
                    </option>
                    <option value="Australia/Adelaide">
                      Australia/Adelaide
                    </option>
                    <option value="Australia/Darwin">Australia/Darwin</option>
                    <option value="Australia/Perth">Australia/Perth</option>
                    <option value="Australia/Eucla">Australia/Eucla</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="working-days">
          <h4 class="clinic-settings-form-title">Clinic Working Days</h4>
          <div
            class="clinic-setting-form"
            fxLayout="row wrap"
            fxLayoutGap="20px"
            fxLayoutGap.md="0px"
            fxLayoutGap.sm="0px"
            fxLayoutGap.xs="0"
          >
            <mat-slide-toggle
              fxFlex.md="30"
              fxFlex.xs="100"
              checked="{{ workingDays.sunday }}"
              name="sunday"
              (change)="toggle($event)"
              >Sunday</mat-slide-toggle
            >
            <mat-slide-toggle
              fxFlex.md="30"
              fxFlex.xs="100"
              checked="{{ workingDays.monday }}"
              name="monday"
              (change)="toggle($event)"
              >Monday</mat-slide-toggle
            >
            <mat-slide-toggle
              fxFlex.md="30"
              fxFlex.xs="100"
              checked="{{ workingDays.tuesday }}"
              name="tuesday"
              (change)="toggle($event)"
              >Tuesday</mat-slide-toggle
            >
            <mat-slide-toggle
              fxFlex.md="30"
              fxFlex.xs="100"
              checked="{{ workingDays.wednesday }}"
              name="wednesday"
              (change)="toggle($event)"
              >Wednesday</mat-slide-toggle
            >
            <mat-slide-toggle
              fxFlex.md="30"
              fxFlex.xs="100"
              checked="{{ workingDays.thursday }}"
              name="thursday"
              (change)="toggle($event)"
              >Thursday</mat-slide-toggle
            >
            <mat-slide-toggle
              fxFlex.md="30"
              fxFlex.xs="100"
              checked="{{ workingDays.friday }}"
              name="friday"
              (change)="toggle($event)"
              >Friday</mat-slide-toggle
            >
            <mat-slide-toggle
              fxFlex.md="30"
              fxFlex.xs="100"
              checked="{{ workingDays.saturday }}"
              name="saturday"
              (change)="toggle($event)"
              >Saturday</mat-slide-toggle
            >
          </div>
        </div>

        <!-- <div class="working-days">   
              <h4 class="clinic-settings-form-title">Morning Huddle Daily Tasks</h4>
              <div class="clinic-setting-form" fxLayout="row wrap" fxLayoutGap="20px" fxLayoutGap.md="0px" fxLayoutGap.sm="0px" fxLayoutGap.xs="0">
                <mat-slide-toggle fxFlex.md="30" fxFlex.xs="100" checked="{{ equipmentList }}" name="equip_list_enable" (change)="toggleMH($event,'Equipment')">Equipment List</mat-slide-toggle>
                <mat-slide-toggle fxFlex.md="30" fxFlex.xs="100" checked="{{ dailyTasks }}" name="daily_task_enable" (change)="toggleMH($event,'Daily')">Daily Tasks</mat-slide-toggle>
              </div>
          </div> -->
        <div class="working-days" *ngIf="userPlan != 'lite'">
          <h4 class="clinic-settings-form-title">Dentist Compare Mode</h4>
          <div
            class="clinic-setting-form"
            fxLayout="row wrap"
            fxLayoutGap="20px"
            fxLayoutGap.md="0px"
            fxLayoutGap.sm="0px"
            fxLayoutGap.xs="0"
          >
            <mat-slide-toggle
              fxFlex.md="30"
              fxFlex.xs="100"
              checked="{{ compareMode }}"
              name="compare_mode"
              (change)="toggleMH($event, 'CompareMode')"
            >
              <span *ngIf="compareMode"><strong>Enabled</strong></span>
              <span *ngIf="!compareMode"><strong>Disabled</strong></span>
            </mat-slide-toggle>
          </div>
        </div>

        <!--  <div class="post-op-codes">
            <h4 class="clinic-settings-form-title">Net Profit Exclusions</h4>          
            <div class="sa-form-group clinic-setting-form">
              <input placeholder="" [formControl]="form.controls['subtracted_accounts']" [(ngModel)]="subtracted_accounts">
            </div>
          </div>    -->

        <!--      <div class="post-op-codes" style="width: 250px; float: left; margin-right: 19.8%">
            <h4 class="clinic-settings-form-title">Unscheduled Patients Call</h4>          
            <div class="sa-form-group clinic-setting-form">
              <input type="number" min="0" placeholder="" [formControl]="form.controls['unscheduled_patients_days']" [(ngModel)]="unscheduledPatientsMh" style="width: 70px;">
              <span style="padding: 0 10px;">Days Ago</span>
             <small *ngIf="form.controls['unscheduled_patients_days'].hasError('required') && form.controls['unscheduled_patients_days'].touched" class="text-danger support-text" style="float: left;width: 100%;" >Field is Required.</small>
            </div>
          </div> -->

        <div class="post-op-codes op-codes">
          <h4 class="clinic-settings-form-title">FTA/UTA</h4>
          <div
            fxLayout="row wrap fta_uta_setting"
            style="width: 500px; text-align: center"
          >
            <div
              class="sa-form-group clinic-setting-form"
              style="text-align: left; width: 240px"
            >
              <span style="padding: 11px 6px; display: inline-block"
                >Appointment Status</span
              >
              <input
                style="float: left; width: 25px"
                type="radio"
                name="fta_uta"
                [formControl]="form.controls['fta_uta']"
                [(ngModel)]="ftaUta"
                value="status"
              />
            </div>
            <div
              class="sa-form-group clinic-setting-form"
              style="text-align: left; width: 240px"
            >
              <span style="padding: 11px 6px; display: inline-block"
                >Item Codes</span
              >
              <input
                style="float: left; width: 25px"
                type="radio"
                name="fta_uta"
                [formControl]="form.controls['fta_uta']"
                [(ngModel)]="ftaUta"
                value="item"
              />
            </div>
          </div>
        </div>
        <div class="sa-form-group-btn">
          <button class="save-button" type="submit" [disabled]="!form.valid">
            Save
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-expansion-panel>
  <app-customisations-settings
    [clinicId]="id"
    [clinicPMS]="selectedClinicData.pms"
    *ngIf="!(userType == '7' && isExactOrCore)"
  >
  </app-customisations-settings>
  <app-charts-settings
    [clinicId]="id"
    *ngIf="
      (apiUrl.includes('test') || apiUrl.includes('staging-')) &&
      userType != '7'
    "
  >
  </app-charts-settings>
  <mat-expansion-panel *ngIf="userType != '7'">
    <mat-expansion-panel-header>
      <mat-panel-title> Followups</mat-panel-title>
    </mat-expansion-panel-header>
    <mat-card-content>
      <form
        [formGroup]="form"
        class="basic-form sa_forms_design"
        (ngSubmit)="onSaveExtraSettings()"
      >
        <h4 class="clinic-settings-form-title"></h4>

        <div class="gray_area">
          <h4 class="clinic-settings-form-title">
            Post Op Calls
            <div class="info-button">
              <div class="info-icon-container">
                <img
                  [tooltip]="this.constants.tipPostOPCallsFollowUps"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </div>
          </h4>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls">
              <!-- <h4 class="clinic-settings-form-title">&nbsp;</h4>   -->
              <div class="sa-form-group clinic-setting-form">
                <mat-slide-toggle
                  fxFlex.md="30"
                  fxFlex.xs="100"
                  checked="{{ postOpEnable }}"
                  name="postOpEnable"
                  (change)="toggleFlw($event, 'postOp')"
                >
                  <span *ngIf="postOpEnable">Enabled</span>
                  <span *ngIf="!postOpEnable">Disabled</span>
                </mat-slide-toggle>
              </div>
            </div>
          </div>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls">
              <!-- <h4 class="clinic-settings-form-title">&nbsp;</h4>           -->
              <div class="sa-form-group clinic-setting-form">
                <input
                  type="number"
                  min="0"
                  placeholder=""
                  [formControl]="form.controls['post_op_calls_days']"
                  [(ngModel)]="postOpCallsMh"
                />
                <span>Days Later</span>
                <small
                  *ngIf="
                    form.controls['post_op_calls_days'].hasError('required') &&
                    form.controls['post_op_calls_days'].touched
                  "
                  class="text-danger support-text"
                  >Field is Required.</small
                >
              </div>
            </div>
          </div>
          <div class="gray_area_partision lable">
            <div class="post-op-codes">
              <h4 class="clinic-settings-form-title">Codes</h4>
              <div class="sa-form-group clinic-setting-form">
                <input
                  placeholder="Post Op Calls Codes"
                  [formControl]="form.controls['post_op_calls']"
                  [(ngModel)]="post_op_calls"
                />
              </div>
            </div>
          </div>
        </div>

        <div class="gray_area">
          <h4 class="clinic-settings-form-title">
            Tick Followups
            <div class="info-button">
              <div class="info-icon-container">
                <img
                  [tooltip]="this.constants.tipTickFollowUps"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </div>
          </h4>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls">
              <!-- <h4 class="clinic-settings-form-title">&nbsp;</h4>   -->
              <div class="sa-form-group clinic-setting-form">
                <mat-slide-toggle
                  fxFlex.md="30"
                  fxFlex.xs="100"
                  checked="{{ tickEnable }}"
                  name="tickEnable"
                  (change)="toggleFlw($event, 'tick')"
                >
                  <span *ngIf="tickEnable">Enabled</span>
                  <span *ngIf="!tickEnable">Disabled</span>
                </mat-slide-toggle>
              </div>
            </div>
          </div>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls">
              <!--    <h4 class="clinic-settings-form-title">&nbsp;</h4>   -->
              <div class="sa-form-group clinic-setting-form">
                <input
                  type="number"
                  min="0"
                  placeholder=""
                  [formControl]="form.controls['tick_days']"
                  [(ngModel)]="tickDays"
                />
                <span>Days Later</span>
                <small
                  *ngIf="
                    form.controls['tick_days'].hasError('required') &&
                    form.controls['tick_days'].touched
                  "
                  class="text-danger support-text"
                  >Field is Required.</small
                >
              </div>
            </div>
          </div>
        </div>

        <div class="gray_area">
          <h4 class="clinic-settings-form-title">
            Recall Followups
            <div class="info-button">
              <div class="info-icon-container">
                <img
                  [tooltip]="this.constants.tipRecallFollowUps"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </div>
          </h4>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls">
              <!--  <h4 class="clinic-settings-form-title">&nbsp;</h4>   -->
              <div class="sa-form-group clinic-setting-form">
                <mat-slide-toggle
                  fxFlex.md="30"
                  fxFlex.xs="100"
                  checked="{{ recallEnable }}"
                  name="recallEnable"
                  (change)="toggleFlw($event, 'recall')"
                >
                  <span *ngIf="recallEnable">Enabled</span>
                  <span *ngIf="!recallEnable">Disabled</span>
                </mat-slide-toggle>
              </div>
            </div>
          </div>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls">
              <!-- <h4 class="clinic-settings-form-title">&nbsp;</h4>      -->
              <div class="sa-form-group clinic-setting-form">
                <input
                  type="number"
                  min="0"
                  placeholder=""
                  [formControl]="form.controls['recall_weeks']"
                  [(ngModel)]="recallWeeks"
                />
                <span>Weeks Later</span>
                <small
                  *ngIf="
                    form.controls['recall_weeks'].hasError('required') &&
                    form.controls['recall_weeks'].touched
                  "
                  class="text-danger support-text"
                  >Field is Required.</small
                >
              </div>
            </div>
          </div>
        </div>

        <div class="gray_area">
          <h4 class="clinic-settings-form-title">
            FTA Followups
            <div class="info-button">
              <div class="info-icon-container">
                <img
                  [tooltip]="this.constants.tipFtaFollowUps"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </div>
          </h4>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls">
              <!--   <h4 class="clinic-settings-form-title">&nbsp;</h4>   -->
              <div class="sa-form-group clinic-setting-form">
                <mat-slide-toggle
                  fxFlex.md="30"
                  fxFlex.xs="100"
                  checked="{{ ftaEnable }}"
                  name="ftaEnable"
                  (change)="toggleFlw($event, 'fta')"
                >
                  <span *ngIf="ftaEnable">Enabled</span>
                  <span *ngIf="!ftaEnable">Disabled</span>
                </mat-slide-toggle>
              </div>
            </div>
          </div>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls ftaFollowps">
              <!-- <h4 class="clinic-settings-form-title">&nbsp;</h4>           -->
              <div class="sa-form-group clinic-setting-form">
                <input
                  type="number"
                  min="0"
                  placeholder=""
                  [formControl]="form.controls['fta_followup_days_later']"
                  [(ngModel)]="ftaFollowupDaysLater"
                />
                <span>Days Later</span>
                <small
                  *ngIf="
                    form.controls['fta_followup_days_later'].hasError(
                      'required'
                    ) && form.controls['fta_followup_days_later'].touched
                  "
                  class="text-danger support-text"
                  >Field is Required.</small
                >
              </div>
            </div>
          </div>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls ftaFollowps">
              <!-- <h4 class="clinic-settings-form-title">&nbsp;</h4>           -->
              <div class="sa-form-group clinic-setting-form">
                <input
                  type="number"
                  min="0"
                  placeholder=""
                  [formControl]="form.controls['fta_followup_days']"
                  [(ngModel)]="ftaFollowupDays"
                />
                <span>Days</span>
                <small
                  *ngIf="
                    form.controls['fta_followup_days'].hasError('required') &&
                    form.controls['fta_followup_days'].touched
                  "
                  class="text-danger support-text"
                  >Field is Required.</small
                >
              </div>
            </div>
          </div>
        </div>

        <div class="gray_area" *ngIf="!isExact">
          <h4 class="clinic-settings-form-title">
            UTA Followups
            <div class="info-button">
              <div class="info-icon-container">
                <img
                  [tooltip]="this.constants.tipUtaFollowUps"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </div>
          </h4>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls">
              <!--   <h4 class="clinic-settings-form-title">&nbsp;</h4>   -->
              <div class="sa-form-group clinic-setting-form">
                <mat-slide-toggle
                  fxFlex.md="30"
                  fxFlex.xs="100"
                  checked="{{ utaEnable }}"
                  name="utaEnable"
                  (change)="toggleFlw($event, 'uta')"
                >
                  <span *ngIf="utaEnable">Enabled</span>
                  <span *ngIf="!utaEnable">Disabled</span>
                </mat-slide-toggle>
              </div>
            </div>
          </div>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls ftaFollowps">
              <!-- <h4 class="clinic-settings-form-title">&nbsp;</h4>           -->
              <div class="sa-form-group clinic-setting-form">
                <input
                  type="number"
                  min="0"
                  placeholder=""
                  [formControl]="form.controls['uta_followup_days_later']"
                  [(ngModel)]="utaFollowupDaysLater"
                />
                <span>Days Later</span>
                <small
                  *ngIf="
                    form.controls['uta_followup_days_later'].hasError(
                      'required'
                    ) && form.controls['uta_followup_days_later'].touched
                  "
                  class="text-danger support-text"
                  >Field is Required.</small
                >
              </div>
            </div>
          </div>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls ftaFollowps">
              <!-- <h4 class="clinic-settings-form-title">&nbsp;</h4>           -->
              <div class="sa-form-group clinic-setting-form">
                <input
                  type="number"
                  min="0"
                  placeholder=""
                  [formControl]="form.controls['uta_followup_days']"
                  [(ngModel)]="utaFollowupDays"
                />
                <span>Days</span>
                <small
                  *ngIf="
                    form.controls['uta_followup_days'].hasError('required') &&
                    form.controls['uta_followup_days'].touched
                  "
                  class="text-danger support-text"
                  >Field is Required.</small
                >
              </div>
            </div>
          </div>
        </div>
        <div
          class="gray_area"
          *ngIf="apiUrl.includes('test') || apiUrl.includes('staging-')"
        >
          <h4 class="clinic-settings-form-title">
            Internal Referral Followups
            <div class="info-button">
              <div class="info-icon-container">
                <img
                  [tooltip]="this.constants.tipInternalReferralFollowups"
                  src="../assets/images/info-icon.png"
                  alt="info-icon"
                  class="info-icon"
                />
              </div>
            </div>
          </h4>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls">
              <!--  <h4 class="clinic-settings-form-title">&nbsp;</h4>   -->
              <div class="sa-form-group clinic-setting-form">
                <mat-slide-toggle
                  fxFlex.md="30"
                  fxFlex.xs="100"
                  checked="{{ internalReferralEnable }}"
                  name="internalReferralEnable"
                  (change)="toggleFlw($event, 'internalReferral')"
                >
                  <span *ngIf="internalReferralEnable">Enabled</span>
                  <span *ngIf="!internalReferralEnable">Disabled</span>
                </mat-slide-toggle>
              </div>
            </div>
          </div>
          <div class="gray_area_partision gray">
            <div class="post-op-codes PostOpCalls">
              <!-- <h4 class="clinic-settings-form-title">&nbsp;</h4>      -->
              <div class="sa-form-group clinic-setting-form">
                <input
                  type="number"
                  min="0"
                  placeholder=""
                  [formControl]="form.controls['referral_weeks']"
                  [(ngModel)]="referralWeeks"
                />
                <span>Weeks Later</span>
                <small
                  *ngIf="
                    form.controls['referral_weeks'].hasError('required') &&
                    form.controls['referral_weeks'].touched
                  "
                  class="text-danger support-text"
                  >Field is Required.</small
                >
              </div>
            </div>
          </div>
        </div>
        <!-- 
          <div class="post-op-codes">
            <h4 class="clinic-settings-form-title">Post Op Calls Codes</h4>          
            <div class="sa-form-group clinic-setting-form">
              <input placeholder="" [formControl]="form.controls['post_op_calls']" [(ngModel)]="post_op_calls">
            </div>
          </div>   -->

        <!--    <div class="post-op-codes" style="width: 250px; float: left;">
            <h4 class="clinic-settings-form-title">Post Op Calls</h4>          
            <div class="sa-form-group clinic-setting-form">
              <input type="number" min="0" placeholder="" [formControl]="form.controls['post_op_calls_days']" [(ngModel)]="postOpCallsMh" style="width: 70px;">
              <span style="padding:0 10px;">Days Ago</span>
              <small *ngIf="form.controls['post_op_calls_days'].hasError('required') && form.controls['post_op_calls_days'].touched" class="text-danger support-text" style="float: left;width: 100%;">Field is Required.</small>
            </div>
          </div> -->

        <div class="sa-form-group-btn">
          <button class="save-button" type="submit" [disabled]="!form.valid">
            Save
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-expansion-panel>

  <app-scripts-settings
    [clinicId]="id"
    *ngIf="userType != '7'"
  ></app-scripts-settings>
  <app-goals-settings [clinicId]="id"></app-goals-settings>
  <app-dentist-settings [clinicId]="id"></app-dentist-settings>
  <!-- <app-tasks-settings [clinicId]="id"></app-tasks-settings> -->
  <app-tasklist-settings
    [clinicId]="id"
    *ngIf="userType != '7'"
  ></app-tasklist-settings>
  <app-equipment-settings
    [clinicId]="id"
    *ngIf="userType != '7'"
  ></app-equipment-settings>
  <app-alerts-settings *ngIf="false" [clinicId]="id"></app-alerts-settings>

  <!-- XERO section start -->
  <mat-expansion-panel *ngIf="userType != '7'">
    <mat-expansion-panel-header>
      <mat-panel-title>
        Xero
        <span class="xero-text" *ngIf="xeroConnect == true">Connected</span>
      </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-card-content>
      <div class="xero-mat-card">
        <div class="text-center">
          <div class="image-container">
            <img src="assets/images/xero_settings.png" alt="" />
          </div>
          <div class="button-container">
            <button
              class="save-button"
              *ngIf="myobConnect == false"
              (click)="xeroConnect ? disconnectXero() : openXero()"
            >
              {{ !xeroConnect ? 'Connect to Xero' : 'Disconnect from XERO' }}
              <img
                class="fast-forward-icon"
                src="assets/images/fast_forward_arrows.png"
                alt=""
              />
            </button>
          </div>
          <div class="company-container" *ngIf="xeroOrganization?.length">
            <div class="company-icon">
              <img src="assets/images/company_icon.png" alt="" />
            </div>
            <div class="company-name">{{ xeroOrganization }}</div>
            <!-- Demo Company (AU) -->
          </div>
        </div>
      </div>
      <div class="xero-from">
        <form
          [formGroup]="form"
          class="basic-form sa_forms_design"
          (ngSubmit)="onSubmit(true)"
        >
          <div class="post-op-codes">
            <h4 class="clinic-settings-form-title">Net Profit Exclusions</h4>
            <div class="sa-form-group clinic-setting-form npe-padding">
              <input
                placeholder=""
                [formControl]="form.controls['subtracted_accounts']"
                [(ngModel)]="subtracted_accounts"
              />
            </div>
          </div>
          <div class="sa-form-group-btn">
            <button class="save-button" type="submit" [disabled]="!form.valid">
              Save
            </button>
          </div>
        </form>
      </div>
    </mat-card-content>
  </mat-expansion-panel>
  <!-- XERO end -->

  <!-- MYOB section start -->
  <mat-expansion-panel *ngIf="userType != '7'">
    <mat-expansion-panel-header>
      <mat-panel-title>
        MYOB
        <span class="myob-text" *ngIf="myobConnect == true">Connected</span>
      </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-card-content>
      <div class="text-center">
        <div class="image-container">
          <img src="assets/images/myob.png" alt="" />
        </div>
        <div class="button-container">
          <button
            class="save-button"
            *ngIf="xeroConnect == false"
            (click)="myobConnect ? disconnectMyob() : openMyob()"
          >
            {{ !myobConnect ? 'Connect to Myob' : 'Disconnect from Myob' }}
            <img
              class="fast-forward-icon"
              src="assets/images/fast_forward_arrows.png"
              alt=""
            />
          </button>
        </div>
        <div class="company-container" *ngIf="myobOrganization?.length">
          <div class="company-icon">
            <img src="assets/images/company_icon.png" alt="" />
          </div>
          <div class="company-name">{{ myobOrganization }}</div>
          <!-- Demo Company (AU) -->
        </div>
      </div>
    </mat-card-content>
  </mat-expansion-panel>

  <mat-expansion-panel *ngIf="isSMSEnabled">
     <mat-expansion-panel-header>
      <mat-panel-title>
        Google Reviews
      </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-card-content>
      <form class="sa_forms_design">
        <div fxLayout="row" fxLayoutGap="30">
          <div class="social-links">
            <div class="sa-form-group" style="min-width: 300px">
              <label>Enter Google Review Link</label>
              <input
                placeholder=""
                [formControl]="googleId"
              />
          </div>
            <mat-form-field floatLabel="never"   style="display:none" [disabled]="true">
              <mat-label>Enter FaceBook Review Link</mat-label>
              <input matInput [formControl]="facebookId">
            </mat-form-field>
          </div>
          <div fxLayout="row" fxLayoutAlign="center center">
            <button mat-raised-button color="dc" type="button" (click)="saveSocialLinks()">Save</button>
          </div>
          
          <button style="display:none" mat-raised-button (click)="linkGoogle()" [disabled]="googleConnected" class="mat-dc">{{googleConnected? 'Disconnect To Google': 'Connect To Google'}} <mat-icon>double_arrow</mat-icon></button>
        </div>
        <div fxLayout="row" fxLayoutGap="20" style="margin:30px 0px">
            <div fxLayout="column" fxLayoutAlign="center">
                <span>Review Credits:
                <strong style="color: #18a689">{{ remainCredits }}</strong></span>
            </div>
  
            <button 
                mat-raised-button 
                color="dc" 
                type="button"
                (click)="openTopUpCredits()" 
                class="add-credits-btn"> Add credits </button>
        </div>
        <div>
          <h4 style="margin-bottom: 0px;">Review Message Templates</h4>
          <div style="display: flex;justify-content: flex-end;">
            <button 
              mat-raised-button class="mat-dc" 
              (click)="openMsgTemplateDialog()">
                Add Template
            </button>
          </div>
          <table mat-table [dataSource]="reviewMsgTemplates">
            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef> Name </th>
              <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>
          
            <!-- Weight Column -->
            <ng-container matColumnDef="msg_template">
              <th mat-header-cell *matHeaderCellDef>Template</th>
              <td mat-cell *matCellDef="let element"> {{element.msg_template}} </td>
            </ng-container>
          
            <!-- Symbol Column -->
            <ng-container matColumnDef="action" stickyEnd>
              <th mat-header-cell *matHeaderCellDef aria-label="row actions">&nbsp;</th>
              <td mat-cell *matCellDef="let element" style="text-align:right">
                <span class="action">
                  <a (click)="openMsgTemplateDialog(element)"
                    class="action_btn golden ng-star-inserted"><i class="ti-pencil m-r-10"></i></a>
                </span>
                <span class="action" (click)="removeMsgTemplate(element)">
                  <a title="Delete" class="action_btn danger ng-star-inserted"><i class="ti-trash m-r-10"></i></a>
                </span>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </div>
      </form>
    </mat-card-content>
  </mat-expansion-panel>
  <!-- MYOB end -->
</mat-accordion>
